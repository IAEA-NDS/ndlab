

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>ndlab &mdash; NDLab 0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/ndlab.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/ndlab.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">1. Get NDLab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html#dependencies">2. Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html#test-it-s-working">3. Test itâ€™s working</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html#optional-packages">4. Optional packages</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Interrogation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../interrogation.html">0. Cheat sheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interrogation.html#retrieval-functions">1. Retrieval functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interrogation.html#the-fields-parameter">2. The fields parameter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interrogation.html#the-filter-parameter">3. The filter parameter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interrogation.html#examples">4. Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interrogation.html#j-p-values">5. J <sup>p</sup> values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interrogation.html#decay-modes">6. Decay modes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interrogation.html#three-lines-of-code">7. Three lines of code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interrogation.html#sql-through-python">8. SQL through Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interrogation.html#sql-direct-connection">9. SQL direct connection</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Programming</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../programming.html">0. Cheat sheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../programming.html#programming-overview">1. Programming overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../programming.html#classes-and-functions">2. Classes and functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../programming.html#pandas">3. Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../programming.html#work-with-measurements">3. Work with Measurements</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Constructing &quot;fields&quot; and &quot;filter&quot;</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../entities.html">1. Legend</a></li>
<li class="toctree-l1"><a class="reference internal" href="../entities.html#entities">2. Entities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../entities.html#constants">3. Constants</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Code Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../code.html">1. ndlab module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code.html#ndlaborm-module">2. ndlaborm module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code.html#ndlabdblink-module">3. ndlabdblink module</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">The Database</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../database.html">1. The search engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../database.html#underlying-databases">2. Underlying databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../database.html#data-sources">3. Data sources</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">NDLab</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Module code</a> &raquo;</li>
        
      <li>ndlab</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for ndlab</h1><div class="highlight"><pre>
<span></span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">The user entry point to interrogate the database, and to write custom software</span>

<span class="sd">Direct database interrogation is through :py:meth:`ndlab.csv_data`, :py:meth:`ndlab.json_data`, :py:meth:`ndlab.csv_nl`,</span>
<span class="sd">:py:meth:`ndlab.pandas_csv_nl`, :py:meth:`ndlab.pandas_csv_web`.</span>

<span class="sd">For how to specify the query parameters, see :py:mod:`ndlaborm`</span>

<span class="sd">The  :py:class:`ndlab.Property`,  :py:class:`ndlab.Nominal`, :py:class:`ndlab.Quantity` implement the ISO Vocabulary (VIM) </span>
<span class="sd">https://www.iso.org/sites/JCGM/VIM/JCGM_200e_FILES/MAIN_JCGM_200e/Start_e.html using also :py:class:`ndlab.Operator` and :py:class:`ndlab.Unit`</span>


<span class="sd">- The :py:class:`ndlab.Quantity` is the most relevant, and it embeds the uncerainities propagation using the &#39;uncertainities&#39; packages </span>
<span class="sd">  (https://pythonhosted.org/uncertainties/).</span>
<span class="sd">- A Quantity is initialised with  a json structure.</span>
<span class="sd">- The classes representing the model contain variables of type Quantity to store the data</span>


<span class="sd">The Base for the classes of the  nuclear model is  :py:class:`ndlab.NdmBase`. Their instance variables are intialized with a json structure</span>
<span class="sd">that is passed to each of their instance variables of type :py:class:`ndlab.Quantity` </span>

<span class="sd">A set of functions initialize these classes querying the database through http </span>


<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>
<span class="kn">from</span> <span class="nn">gc</span> <span class="kn">import</span> <span class="n">DEBUG_LEAK</span>

<span class="kn">from</span> <span class="nn">re</span> <span class="kn">import</span> <span class="n">I</span>
<span class="kn">import</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">copy</span>

<span class="kn">import</span> <span class="nn">ndlabdblink</span> <span class="k">as</span> <span class="nn">dl</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="c1"># the uncertainities (https://pythonhosted.org/uncertainties/)</span>
<span class="kn">from</span> <span class="nn">uncertainties</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1">#</span>

<span class="n">this</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="vm">__name__</span><span class="p">]</span>

<span class="n">db_path</span> <span class="o">=</span> <span class="s1">&#39;ndlab_db.s3db&#39;</span>
<span class="n">dblink</span> <span class="o">=</span> <span class="n">dl</span><span class="o">.</span><span class="n">Dblink</span><span class="p">(</span><span class="n">db_path</span><span class="p">)</span>

<span class="n">_filter</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

<span class="n">DEFAULT</span> <span class="o">=</span> <span class="s2">&quot;NO_PARAM&quot;</span><span class="p">;</span>
<span class="n">last_fields</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="n">last_filter</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

<span class="n">CSV_SEP</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span>
<span class="n">ERROR_FILTER_NOT_VALID</span> <span class="o">=</span> <span class="s2">&quot;Fields or Filter not valid, check the rules&quot;</span>


<span class="k">def</span> <span class="nf">_float_check</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Check if a value retrieved from the database is a float</span>

<span class="sd">    Args: </span>
<span class="sd">        val:  (anything, most likey a string)</span>

<span class="sd">    Returns: </span>
<span class="sd">        float: the string converted to float</span>
<span class="sd">        or</span>
<span class="sd">        None: no conversion to float possible    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

<span class="k">def</span> <span class="nf">_int_check</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Check if a value retrieved from the database is an integer</span>

<span class="sd">    Args: </span>
<span class="sd">        val (int): The object to be converted</span>

<span class="sd">    Returns: </span>
<span class="sd">        integer: the string converted to integer</span>
<span class="sd">        or</span>
<span class="sd">        None: no conversion to float possible    </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    
<span class="k">def</span> <span class="nf">_str_check</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
     <span class="k">if</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;None&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>
     <span class="k">return</span> <span class="n">val</span>

<div class="viewcode-block" id="Property"><a class="viewcode-back" href="../code.html#ndlab.Property">[docs]</a><span class="k">class</span> <span class="nc">Property</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot; Models the ISO VIM</span>

<span class="sd">    Upper class with only the name of the property</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
       

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The name of the property</span>

<span class="sd">        Returns:</span>
<span class="sd">            String: name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name_</span>
    <span class="nd">@name</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets name of the property</span>

<span class="sd">        Args:</span>
<span class="sd">            name (str) : the name of the propery</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name_</span><span class="o">=</span> <span class="n">name</span></div>

<div class="viewcode-block" id="Nominal"><a class="viewcode-back" href="../code.html#ndlab.Nominal">[docs]</a><span class="k">class</span> <span class="nc">Nominal</span><span class="p">(</span><span class="n">Property</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Models the ISO VIM</span>

<span class="sd">    Quantities without magnitude</span>
<span class="sd">    &quot;&quot;&quot;</span>
<span class="c1">#    value = None</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Nominal</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="Operator"><a class="viewcode-back" href="../code.html#ndlab.Operator">[docs]</a><span class="k">class</span> <span class="nc">Operator</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Qualifier of a value, e.g. &gt;</span>

<span class="sd">    Contains the allowed modifiers and the rules of composition to handle matemathical operations between quantities</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lt</span> <span class="o">=</span> <span class="s2">&quot;&lt;&quot;</span>
    <span class="n">gt</span> <span class="o">=</span> <span class="s2">&quot;&gt;&quot;</span>
    <span class="n">eq</span> <span class="o">=</span> <span class="s2">&quot;=&quot;</span>
    <span class="n">ge</span> <span class="o">=</span> <span class="s2">&quot;&gt;=&quot;</span>
    <span class="n">le</span> <span class="o">=</span> <span class="s2">&quot;&lt;=&quot;</span>
    <span class="n">approx</span> <span class="o">=</span> <span class="s2">&quot;~&quot;</span>
    <span class="n">calculated</span> <span class="o">=</span> <span class="s2">&quot;CA&quot;</span>
    <span class="n">problem</span> <span class="o">=</span> <span class="s2">&quot;?&quot;</span>

<div class="viewcode-block" id="Operator.compose"><a class="viewcode-back" href="../code.html#ndlab.Operator.compose">[docs]</a>    <span class="k">def</span> <span class="nf">compose</span><span class="p">(</span><span class="n">oa</span><span class="p">,</span> <span class="n">ob</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Rule for operators composition</span>

<span class="sd">        Args:</span>
<span class="sd">            oa (Operator): operator of the first quantity</span>
<span class="sd">            ob (Operator): operator of the second quantity</span>

<span class="sd">        Returns:</span>
<span class="sd">            Operator: oa composed with ob</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span><span class="p">(</span><span class="n">oa</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span> <span class="ow">and</span> <span class="n">ob</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span>

        <span class="k">if</span><span class="p">(</span> <span class="p">(</span><span class="n">oa</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">lt</span> <span class="ow">or</span> <span class="n">oa</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">le</span> <span class="ow">or</span> <span class="n">oa</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">ob</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">lt</span> <span class="ow">or</span> <span class="n">ob</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">le</span> <span class="ow">or</span> <span class="n">ob</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">Operator</span><span class="o">.</span><span class="n">lt</span>
        <span class="k">if</span><span class="p">(</span> <span class="p">(</span><span class="n">oa</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">gt</span> <span class="ow">or</span> <span class="n">oa</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">ge</span> <span class="ow">or</span> <span class="n">oa</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">ob</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">gt</span> <span class="ow">or</span>  <span class="n">ob</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">ge</span> <span class="ow">or</span> <span class="n">ob</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">Operator</span><span class="o">.</span><span class="n">gt</span>

        <span class="c1"># symmetric below</span>
        <span class="k">if</span><span class="p">(</span> <span class="n">oa</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">approx</span> <span class="ow">and</span> <span class="n">ob</span> <span class="o">!=</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">ob</span>
        <span class="k">if</span><span class="p">(</span> <span class="n">oa</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">approx</span> <span class="ow">and</span> <span class="n">ob</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">oa</span>

        <span class="k">if</span><span class="p">(</span> <span class="n">ob</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">approx</span> <span class="ow">and</span> <span class="n">oa</span> <span class="o">!=</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">oa</span>
        <span class="k">if</span><span class="p">(</span> <span class="n">ob</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">approx</span> <span class="ow">and</span> <span class="n">oa</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">ob</span>

        <span class="k">if</span><span class="p">(</span><span class="n">oa</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">calculated</span> <span class="ow">or</span> <span class="n">ob</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">calculated</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">Operator</span><span class="o">.</span><span class="n">calculated</span>

        <span class="k">return</span> <span class="n">Operator</span><span class="o">.</span><span class="n">problem</span></div>

    <span class="k">def</span> <span class="nf">test</span><span class="p">():</span>
        <span class="n">ll</span> <span class="o">=</span> <span class="p">[</span><span class="n">Operator</span><span class="o">.</span><span class="n">approx</span><span class="p">,</span><span class="n">Operator</span><span class="o">.</span><span class="n">eq</span><span class="p">,</span> <span class="n">Operator</span><span class="o">.</span><span class="n">ge</span><span class="p">,</span><span class="n">Operator</span><span class="o">.</span><span class="n">gt</span><span class="p">,</span><span class="n">Operator</span><span class="o">.</span><span class="n">le</span><span class="p">,</span><span class="n">Operator</span><span class="o">.</span><span class="n">lt</span><span class="p">,</span><span class="n">Operator</span><span class="o">.</span><span class="n">problem</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">o1</span> <span class="ow">in</span> <span class="n">ll</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">o2</span> <span class="ow">in</span> <span class="n">ll</span><span class="p">:</span>
                <span class="nb">print</span> <span class="p">(</span><span class="n">o1</span><span class="p">,</span> <span class="n">o2</span><span class="p">,</span><span class="n">Operator</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="n">o1</span><span class="p">,</span><span class="n">o2</span><span class="p">))</span></div>

<div class="viewcode-block" id="Unit"><a class="viewcode-back" href="../code.html#ndlab.Unit">[docs]</a><span class="k">class</span> <span class="nc">Unit</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Units of measure</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">normalized</span> <span class="o">=</span> <span class="s2">&quot;normalized&quot;</span>
    <span class="n">kev</span> <span class="o">=</span> <span class="s2">&quot;keV&quot;</span>
    <span class="n">mev</span> <span class="o">=</span> <span class="s2">&quot;MeV&quot;</span>
    <span class="n">amu</span> <span class="o">=</span> <span class="s2">&quot;AMU&quot;</span>
    <span class="n">mu_amu</span> <span class="o">=</span> <span class="s2">&quot;micro AMU&quot;</span></div>

<div class="viewcode-block" id="Quantity"><a class="viewcode-back" href="../code.html#ndlab.Quantity">[docs]</a><span class="k">class</span> <span class="nc">Quantity</span><span class="p">(</span><span class="n">Nominal</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Models the ISO VIM and handles the uncertainties propagation with ufloat from the `uncertainties &lt;https://pythonhosted.org/uncertainties/&gt;`__ package</span>

<span class="sd">     Attributes:</span>
<span class="sd">        sep (string):    The CSV separator to be used when dumping to CSV</span>

<span class="sd">     :ivar string nominal: name</span>
<span class="sd">     :ivar float value: float value</span>
<span class="sd">     :ivar string unc: uncertainity as string</span>
<span class="sd">     :ivar float  unc_num: uncertainity as float</span>
<span class="sd">     :ivar Operator: Operator</span>
<span class="sd">    &quot;&quot;&quot;</span>


    <span class="n">sep</span> <span class="o">=</span> <span class="n">CSV_SEP</span>
    <span class="c1"># name is the key to be used in populate</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Quantity</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unc_num</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unc</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">operator</span> <span class="o">=</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span>

    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;using a json structure. Fills the instance variables from a json structure:</span>

<span class="sd">        | value = data[{name}]</span>
<span class="sd">        | unc   = data[{name}_unc]</span>
<span class="sd">        | operator = data[{name}_limit]</span>

<span class="sd">        Args:</span>
<span class="sd">            data (json): data structure to fill the instance variables</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            self: instance of the class</span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nominal</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="p">]</span>
            <span class="k">if</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;None&#39;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">_float_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
       
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_unc&quot;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">unc</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span> <span class="s2">&quot;_unc&quot;</span><span class="p">])</span>
            <span class="k">if</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_unc&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;None&#39;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">unc_num</span> <span class="o">=</span> <span class="n">_float_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_unc&quot;</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">unc</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">unc_num</span> <span class="o">=</span> <span class="mi">0</span>
 
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_limit&quot;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">operator</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_limit&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">operator</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
                  <span class="bp">self</span><span class="o">.</span><span class="n">operator</span> <span class="o">=</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="n">isnull</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">unc_num</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">unc_num</span> <span class="o">==</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">unc_num</span><span class="p">;</span>
        <span class="k">return</span> <span class="bp">self</span>

<div class="viewcode-block" id="Quantity.ufloat"><a class="viewcode-back" href="../code.html#ndlab.Quantity.ufloat">[docs]</a>    <span class="k">def</span> <span class="nf">ufloat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; ufloat of the `uncertainties &lt;https://pythonhosted.org/uncertainties/`__ package from :py:attr:`value` and :py:attr:`uncertainty` </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">ufloat</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">unc_num</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">unc_num</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span></div>


<div class="viewcode-block" id="Quantity.create"><a class="viewcode-back" href="../code.html#ndlab.Quantity.create">[docs]</a>    <span class="k">def</span> <span class="nf">create</span><span class="p">(</span> <span class="n">value</span><span class="p">,</span> <span class="n">unc</span><span class="p">,</span> <span class="n">operator</span> <span class="o">=</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Creates a Quantity from a value, and uncertainty, and an operator.</span>

<span class="sd">        Used internally from overloaded mathematical functions</span>

<span class="sd">        Args:</span>
<span class="sd">            value (float): value</span>
<span class="sd">            unc (float): uncertainty</span>
<span class="sd">            operator (Operator): operator</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">q</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">()</span>
        <span class="n">q</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>
        <span class="n">q</span><span class="o">.</span><span class="n">unc</span> <span class="o">=</span> <span class="n">unc</span>
        <span class="n">q</span><span class="o">.</span><span class="n">unc_num</span> <span class="o">=</span> <span class="n">unc</span>
        <span class="n">q</span><span class="o">.</span><span class="n">operator</span> <span class="o">=</span> <span class="n">operator</span>
        <span class="k">return</span> <span class="n">q</span></div>
    
<div class="viewcode-block" id="Quantity.csv"><a class="viewcode-back" href="../code.html#ndlab.Quantity.csv">[docs]</a>    <span class="k">def</span> <span class="nf">csv</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Generates the CSV representation of the quantity</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        String: the CSV</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">unc</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">operator</span> <span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">qtt</span><span class="p">):</span>
        <span class="n">op</span> <span class="o">=</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span>
        <span class="k">if</span><span class="p">(</span><span class="n">qtt</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">!=</span> <span class="s2">&quot;Quantity&quot;</span><span class="p">):</span>
            <span class="n">sm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">+</span> <span class="n">qtt</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">+</span> <span class="n">qtt</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span>
            <span class="n">op</span> <span class="o">=</span> <span class="n">qtt</span><span class="o">.</span><span class="n">operator</span>
        <span class="k">return</span> <span class="n">Quantity</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">sm</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">sm</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="n">Operator</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">operator</span><span class="p">,</span> <span class="n">op</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__radd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">qtt</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span> <span class="o">+</span> <span class="n">qtt</span>

    <span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">qtt</span><span class="p">):</span>
        <span class="n">op</span> <span class="o">=</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span>
        <span class="k">if</span><span class="p">(</span><span class="n">qtt</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">!=</span> <span class="s2">&quot;Quantity&quot;</span><span class="p">):</span>
            <span class="n">sm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">-</span> <span class="n">qtt</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">-</span> <span class="n">qtt</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span>
            <span class="n">op</span> <span class="o">=</span> <span class="n">qtt</span><span class="o">.</span><span class="n">operator</span>
        <span class="k">return</span> <span class="n">Quantity</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">sm</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">sm</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="n">Operator</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">operator</span><span class="p">,</span> <span class="n">op</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__rsub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">qtt</span><span class="p">):</span>
        <span class="n">op</span> <span class="o">=</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span>
        <span class="k">if</span><span class="p">(</span><span class="n">qtt</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">!=</span> <span class="s2">&quot;Quantity&quot;</span><span class="p">):</span>
            <span class="n">sm</span> <span class="o">=</span> <span class="n">qtt</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sm</span> <span class="o">=</span>  <span class="n">qtt</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> 
            <span class="n">op</span> <span class="o">=</span> <span class="n">qtt</span><span class="o">.</span><span class="n">operator</span>
        <span class="k">return</span> <span class="n">Quantity</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">sm</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">sm</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="n">Operator</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">operator</span><span class="p">,</span> <span class="n">op</span><span class="p">))</span>        

    <span class="k">def</span> <span class="fm">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">qtt</span><span class="p">):</span>
        <span class="n">op</span> <span class="o">=</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span>
        <span class="k">if</span><span class="p">(</span><span class="n">qtt</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">!=</span> <span class="s2">&quot;Quantity&quot;</span><span class="p">):</span>
            <span class="n">sm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">*</span> <span class="n">qtt</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">*</span> <span class="n">qtt</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span>
            <span class="n">op</span> <span class="o">=</span> <span class="n">qtt</span><span class="o">.</span><span class="n">operator</span>
        <span class="k">return</span> <span class="n">Quantity</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">sm</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">sm</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="n">Operator</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">operator</span><span class="p">,</span> <span class="n">op</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__rmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">qtt</span><span class="p">):</span>
        <span class="n">op</span> <span class="o">=</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span>
        <span class="k">if</span><span class="p">(</span><span class="n">qtt</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">!=</span> <span class="s2">&quot;Quantity&quot;</span><span class="p">):</span>
            <span class="n">sm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">*</span> <span class="n">qtt</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">*</span> <span class="n">qtt</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span>
            <span class="n">op</span> <span class="o">=</span> <span class="n">qtt</span><span class="o">.</span><span class="n">operator</span>
        <span class="k">return</span> <span class="n">Quantity</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">sm</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">sm</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="n">Operator</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">operator</span><span class="p">,</span> <span class="n">op</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__truediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">qtt</span><span class="p">):</span>
        <span class="n">op</span> <span class="o">=</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span>
        <span class="k">if</span><span class="p">(</span><span class="n">qtt</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">!=</span> <span class="s2">&quot;Quantity&quot;</span><span class="p">):</span>
            <span class="n">sm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">/</span> <span class="n">qtt</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">/</span> <span class="n">qtt</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span>
            <span class="n">op</span> <span class="o">=</span> <span class="n">qtt</span><span class="o">.</span><span class="n">operator</span>
        <span class="k">return</span> <span class="n">Quantity</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">sm</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">sm</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="n">Operator</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">operator</span><span class="p">,</span> <span class="n">op</span><span class="p">))</span>
        
    <span class="k">def</span> <span class="fm">__rtruediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">qtt</span><span class="p">):</span>
        <span class="n">op</span> <span class="o">=</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span>
        <span class="k">if</span><span class="p">(</span><span class="n">qtt</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">!=</span> <span class="s2">&quot;Quantity&quot;</span><span class="p">):</span>
            <span class="n">sm</span> <span class="o">=</span>  <span class="n">qtt</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sm</span> <span class="o">=</span>  <span class="n">qtt</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span>
            <span class="n">op</span> <span class="o">=</span> <span class="n">qtt</span><span class="o">.</span><span class="n">operator</span>
        <span class="k">return</span> <span class="n">Quantity</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">sm</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">sm</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="n">Operator</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">operator</span><span class="p">,</span> <span class="n">op</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__pow__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">qtt</span><span class="p">):</span>
        <span class="n">op</span> <span class="o">=</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span>
        <span class="k">if</span><span class="p">(</span><span class="n">qtt</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">!=</span> <span class="s2">&quot;Quantity&quot;</span><span class="p">):</span>
            <span class="k">if</span><span class="p">(</span><span class="n">qtt</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">!=</span> <span class="s2">&quot;Variable&quot;</span><span class="p">):</span>
                <span class="n">sm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">**</span> <span class="n">ufloat</span><span class="p">(</span><span class="n">qtt</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">sm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">**</span> <span class="n">qtt</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">**</span> <span class="n">qtt</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span>
            <span class="n">op</span> <span class="o">=</span> <span class="n">qtt</span><span class="o">.</span><span class="n">operator</span>
        <span class="k">return</span> <span class="n">Quantity</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">sm</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">sm</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="n">Operator</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">operator</span><span class="p">,</span> <span class="n">op</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">!=</span> <span class="s2">&quot;Quantity&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">other</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
             <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">ufloat</span><span class="p">())</span>

    <span class="k">def</span> <span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">!=</span> <span class="s2">&quot;Quantity&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">other</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
             <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">other</span><span class="o">.</span><span class="n">ufloat</span><span class="p">())</span>

    <span class="k">def</span> <span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">!=</span> <span class="s2">&quot;Quantity&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">other</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
             <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">ufloat</span><span class="p">())</span>

    <span class="k">def</span> <span class="fm">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">!=</span> <span class="s2">&quot;Quantity&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="n">other</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
             <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="n">other</span><span class="o">.</span><span class="n">ufloat</span><span class="p">())</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">!=</span> <span class="s2">&quot;Quantity&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">==</span> <span class="n">other</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
             <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">ufloat</span><span class="p">())</span>

    <span class="k">def</span> <span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">!=</span> <span class="s2">&quot;Quantity&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">!=</span> <span class="n">other</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
             <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">()</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">ufloat</span><span class="p">())</span>



    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="s2">&quot;&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">operator</span> <span class="o">==</span> <span class="n">Operator</span><span class="o">.</span><span class="n">eq</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">operator</span><span class="p">)</span> <span class="o">+</span>  <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ufloat</span><span class="p">())</span></div>


<span class="k">class</span> <span class="nc">Ndm_base</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Base class of the Nuclar Data Model</span>

<span class="sd">    Attributes:</span>
<span class="sd">       _csv_title (str): the title of the csv representation of this class</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_csv_title</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> 

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">myfilter</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pk</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; takes a json structure and populates the Quantities of this class, as well as the other variables </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_join_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="nb">filter</span><span class="p">,</span> <span class="n">fk_filter</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Joins the filter specified by the user with the foreign key to follow the link to another class.</span>
<span class="sd">        For example </span>
<span class="sd">        if nuc = nuclide(&quot;135XE&quot;)</span>
<span class="sd">        nuc.levels(&quot;LEVEL.JP = &#39;2+&#39;) has an explict filter for JP, but also an embedded foreign key to reach only 135XE</span>

<span class="sd">        Args:</span>
<span class="sd">            filter (str): the user-specified filter</span>
<span class="sd">            fk_filter (str): the foreign key to be added</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            String: the joined flters</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_filter</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span><span class="p">(</span><span class="nb">filter</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
            <span class="n">_filter</span> <span class="o">=</span> <span class="nb">filter</span> 

        <span class="k">if</span><span class="p">(</span><span class="n">_filter</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span>  <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">myfilter</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
            <span class="n">_filter</span> <span class="o">=</span> <span class="nb">filter</span> <span class="o">+</span> <span class="s2">&quot; AND &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">myfilter</span> 
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_filter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myfilter</span>


        <span class="n">idx</span> <span class="o">=</span> <span class="n">_filter</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ORDER&quot;</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">idx</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">):</span>
            <span class="n">_filter</span> <span class="o">=</span> <span class="n">_filter</span><span class="p">[</span><span class="mi">0</span> <span class="p">:</span> <span class="n">idx</span><span class="p">]</span>
        
        <span class="k">if</span><span class="p">(</span><span class="n">_filter</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span>  <span class="ow">and</span> <span class="n">fk_filter</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
            <span class="n">_filter</span> <span class="o">=</span> <span class="n">_filter</span> <span class="o">+</span> <span class="s2">&quot; AND &quot;</span> <span class="o">+</span> <span class="n">fk_filter</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_filter</span> <span class="o">=</span> <span class="n">fk_filter</span>

        <span class="k">return</span> <span class="n">_filter</span> 
    
    <span class="k">def</span> <span class="nf">_check_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="nb">filter</span><span class="p">,</span> <span class="n">prev_filter</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; to handle the case when a property was first called with a filter, then without</span>

<span class="sd">        Args:</span>

<span class="sd">            filter (str): the new filter (DEFAULT means no filter specified)</span>
<span class="sd">            prev_filter (str): the previous filter, if any</span>

<span class="sd">        Returns:</span>

<span class="sd">            str: the filter to be applied</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># without a filter, and it is the first call</span>
        <span class="k">if</span><span class="p">(</span><span class="nb">filter</span> <span class="o">==</span> <span class="n">DEFAULT</span> <span class="ow">and</span> <span class="n">prev_filter</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
            <span class="nb">filter</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="c1"># without a filter, but previously a filter was set</span>
        <span class="k">elif</span><span class="p">(</span><span class="nb">filter</span> <span class="o">==</span> <span class="n">DEFAULT</span> <span class="ow">and</span> <span class="n">prev_filter</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">):</span>
            <span class="nb">filter</span> <span class="o">=</span> <span class="n">prev_filter</span>
        <span class="k">return</span> <span class="nb">filter</span>    


    <span class="k">def</span> <span class="nf">_property_filler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">property_name</span><span class="p">,</span> <span class="n">func_name</span><span class="p">,</span> <span class="nb">filter</span><span class="p">,</span> <span class="n">fk_filter</span><span class="p">,</span> <span class="n">skip_prev_filter</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;intialises an instance variable, like :py:meth:`ndlab.Nuclide.levels` for a :py:class:`ndlab.Nuclide`</span>

<span class="sd">        It uses reflection, the name of the variable to be set, the name of the function that </span>
<span class="sd">        does the actual retrieval of the data, and the filter to be applied.</span>
<span class="sd">        Lazy creation : returns the existig value if the property is already filled and the filter has not changed</span>

<span class="sd">        Args:</span>
<span class="sd">        </span>
<span class="sd">            property_name (str): name of the property to be intialised</span>
<span class="sd">            func_name (str): name of the function in this module that  performs the task</span>
<span class="sd">            filter (str): filter passed to the function by the user</span>
<span class="sd">            fk_filter (str): str: foreign key(s) to be appended to the filter</span>
<span class="sd">            skip_prev_filter (bool) : False , do not append the exisiting filter </span>

<span class="sd">        Returns: </span>
<span class="sd">        </span>
<span class="sd">        object: the instance variable intialised </span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span><span class="p">(</span><span class="nb">filter</span> <span class="o">==</span> <span class="n">DEFAULT</span><span class="p">):</span> <span class="nb">filter</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        
        <span class="c1"># pointer to the property from its name</span>
        <span class="nb">property</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">property_name</span><span class="p">)</span>
        <span class="c1"># pointer to the previous filter from its name</span>
        <span class="n">prev_filter</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,(</span><span class="n">property_name</span> <span class="o">+</span> <span class="s2">&quot;_filter&quot;</span><span class="p">))</span>
        <span class="c1"># whether the filter has changed</span>
        <span class="nb">filter</span> <span class="o">=</span> <span class="nb">filter</span> <span class="k">if</span> <span class="n">skip_prev_filter</span> <span class="k">else</span>   <span class="bp">self</span><span class="o">.</span><span class="n">_check_filter</span><span class="p">(</span><span class="nb">filter</span><span class="p">,</span> <span class="n">prev_filter</span><span class="p">)</span>
        
        <span class="c1"># lazy creator: only if not assigned yet, or if the filter has chenged</span>
        <span class="k">if</span><span class="p">(</span><span class="nb">property</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">prev_filter</span> <span class="o">!=</span> <span class="nb">filter</span> <span class="p">):</span>
            <span class="c1"># pointer to the function from its name</span>
            <span class="n">function</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">this</span><span class="p">,</span><span class="n">func_name</span><span class="p">)</span>
            <span class="c1"># assign the result to the property</span>
          
            <span class="c1">#property = function(self._join_filter(filter, fk_filter))</span>

            <span class="nb">property</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span>  <span class="nb">filter</span> <span class="o">+</span> <span class="p">(</span><span class="s2">&quot;&quot;</span> <span class="k">if</span> <span class="nb">filter</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span> <span class="k">else</span> <span class="s2">&quot; AND &quot;</span><span class="p">)</span> <span class="o">+</span> <span class="n">fk_filter</span><span class="p">)</span>
    
            <span class="c1"># attach property to the instance, otherwise it is local</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">property_name</span><span class="p">,</span> <span class="nb">property</span><span class="p">)</span>
            <span class="c1"># set the new filter</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="p">(</span><span class="n">property_name</span> <span class="o">+</span> <span class="s2">&quot;_filter&quot;</span><span class="p">),</span> <span class="nb">filter</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">property</span>   


    <span class="k">def</span> <span class="nf">csv</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Generates a String with the CSV representation for an instance of class</span>

<span class="sd">        the attribute _cst_title stores the first row of the csv with the field names</span>

<span class="sd">        Returns:</span>
<span class="sd">            string: the csv</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sep</span> <span class="o">=</span> <span class="n">CSV_SEP</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_csv_title</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">CSV_SEP</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">fields</span><span class="p">:</span>
           
            <span class="k">if</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;_unc&quot;</span><span class="p">)):</span>
                <span class="k">continue</span>

            <span class="n">attr</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="s2">&quot;stop&quot;</span><span class="p">)</span> 
           
            <span class="k">if</span><span class="p">(</span><span class="n">attr</span> <span class="o">!=</span> <span class="s2">&quot;stop&quot;</span><span class="p">):</span>                  
                <span class="k">if</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span> <span class="n">attr</span><span class="p">,</span> <span class="n">Quantity</span><span class="p">)):</span>
                    <span class="n">ret</span> <span class="o">+=</span> <span class="n">sep</span> <span class="o">+</span> <span class="n">attr</span><span class="o">.</span><span class="n">csv</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">ret</span> <span class="o">+=</span> <span class="n">sep</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>  
                <span class="k">pass</span>
                <span class="c1"># print(&quot;null &quot; ,field, attr)     </span>
         
        <span class="k">return</span>  <span class="n">ret</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>


<div class="viewcode-block" id="Nuclide"><a class="viewcode-back" href="../code.html#ndlab.Nuclide">[docs]</a><span class="k">class</span> <span class="nc">Nuclide</span><span class="p">(</span><span class="n">Ndm_base</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The properties of given Z and N pair</span>
<span class="sd">    </span>
<span class="sd">    Note that properties like Half-life, etc are to be accessed through its ground state (gs)</span>

<span class="sd">    :ivar int z: number of protons</span>
<span class="sd">    :ivar int n: number of neutrons</span>
<span class="sd">    :ivar str nucid: nuclide id mass + element symbol 135XE</span>
<span class="sd">    :ivar Quantity charge_radius: charge radius</span>
<span class="sd">    :ivar Quantity atomic_mass: atomic mass</span>
<span class="sd">    :ivar Quantity mass_excess: mass excess</span>
<span class="sd">    :ivar Quantity binding_en: binding en</span>
<span class="sd">    :ivar Quantity beta_decay_en: beta decay energy</span>
<span class="sd">    </span>
<span class="sd">    :ivar Quantity s2n: 2-neutron separation energy</span>
<span class="sd">    :ivar Quantity s2p: 2-protons separation energy</span>
<span class="sd">    :ivar Quantity qa: Q-value for alpha decay</span>
<span class="sd">    :ivar Quantity abundance: natural abundance in mole fraction</span>
<span class="sd">    :ivar Level gs: ground state</span>
<span class="sd">    :ivar Nuclide[] daughters: direct daughters of the nuclide, including excited states decays</span>
<span class="sd">    :ivar Nuclide[] parents: parents of the nuclide</span>
<span class="sd">    :ivar Nuclide[] daughters_chain: all possible offsprings of the nuclide</span>
<span class="sd">    :ivar Nuclide[] parents_chain: all possible ancestors of the nuclide</span>
<span class="sd">    :ivar Decay[] decays: all decays, including fron metastable states, for which decay radiations are given</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_csv_title</span> <span class="o">=</span> <span class="s2">&quot;z,n,nucid,elem_symbol,charge_radius,charge_radius_unc,charge_radius_limit,atomic_mass,atomic_mass_unc,atomic_mass_limit,mass_excess,mass_excess_unc,mass_excess_limit,binding_en,binding_en_unc,binding_en_limit,qbm,qbm_unc,qbm_limit,qa,qa_unc,qa_limit,qec,qec_unc,qec_limit,sn,sn_unc,sn_limit,sp,sp_unc,sp_limit,qbmn,qbmn_unc,qbmn_limit,abundance,abundance_unc,abundance_limit&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">elem_symbol</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">charge_radius</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;charge_radius&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">atomic_mass</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;atomic_mass&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mass_excess</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;mass_excess&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">binding_en</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;binding_en&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">qbm</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;beta_decay_en&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">s2n</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;s2n&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">s2p</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;s2p&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">qa</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;qa&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">qbmn</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;qbmn&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sn</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;sn&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sp</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;sp&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">qec</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;qec&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">abundance</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;abundance&quot;</span><span class="p">)</span>
      
        <span class="bp">self</span><span class="o">.</span><span class="n">_levels</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_levels_filter</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_gammas</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gammas_filter</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_dr_photons</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dr_photons_filter</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_daughters</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parents</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_decays</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;z&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;n&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">=</span>  <span class="n">data</span><span class="p">[</span><span class="s2">&quot;nucid&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">elem_symbol</span> <span class="o">=</span>  <span class="n">data</span><span class="p">[</span><span class="s2">&quot;elem_symbol&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">charge_radius</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">atomic_mass</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mass_excess</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">binding_en</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">qbm</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">s2n</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">s2p</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">qa</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">qbmn</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sn</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sp</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">qec</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">abundance</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="c1"># =  _float_check(data[&quot;abundance&quot;])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span>

<div class="viewcode-block" id="Nuclide.levels"><a class="viewcode-back" href="../code.html#ndlab.Nuclide.levels">[docs]</a>    <span class="k">def</span> <span class="nf">levels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">DEFAULT</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Energy levels of this nuclide</span>

<span class="sd">        Args:</span>
<span class="sd">            filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`NUCLIDE &lt;NUCLIDE&gt;` entity  </span>
<span class="sd">        Returns: </span>
<span class="sd">           the  list of :py:class:`ndlab.Level` of this nuclide</span>
<span class="sd">        &quot;&quot;&quot;</span>
       
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_property_filler</span><span class="p">(</span><span class="s2">&quot;_levels&quot;</span><span class="p">,</span><span class="s2">&quot;levels&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">,</span> <span class="s2">&quot;  LEVEL.NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; ORDER BY LEVEL.SEQNO&quot;</span>  <span class="p">)</span></div>
    

<div class="viewcode-block" id="Nuclide.gammas"><a class="viewcode-back" href="../code.html#ndlab.Nuclide.gammas">[docs]</a>    <span class="k">def</span> <span class="nf">gammas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">DEFAULT</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gamma transitions between levels of this nuclide</span>

<span class="sd">        Args:</span>
<span class="sd">            filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`NUCLIDE &lt;NUCLIDE&gt;` entity</span>
<span class="sd">        Returns: </span>
<span class="sd">           the  list of :py:class:`ndlab.Gamma` of this nuclide</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_property_filler</span><span class="p">(</span><span class="s2">&quot;_gammas&quot;</span><span class="p">,</span><span class="s2">&quot;gammas&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">,</span> <span class="s2">&quot;  GAMMA.NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; ORDER BY GAMMA.START_LEVEL_SEQNO , GAMMA.SEQNO&quot;</span> <span class="p">,</span> <span class="kc">True</span><span class="p">)</span></div>
    
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">daughters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_daughters</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_daughters</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;L_DECAY.DAUGHTER.ALL&quot;</span><span class="p">,</span> <span class="s2">&quot;Nuclide&quot;</span><span class="p">,</span> <span class="s2">&quot;L_DECAY.NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; &quot;</span> <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_daughters</span>
    
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">parents</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parents</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parents</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;L_DECAY.NUC.ALL&quot;</span><span class="p">,</span> <span class="s2">&quot;Nuclide&quot;</span><span class="p">,</span> <span class="s2">&quot;L_DECAY.DAUGHTER_NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; &quot;</span> <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parents</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">decays</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_decays</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_decays</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;L_DECAY.ALL&quot;</span><span class="p">,</span> <span class="s2">&quot;L_decay&quot;</span><span class="p">,</span> <span class="s2">&quot; L_DECAY.NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; ORDER BY L_DECAY.LEVEL_SEQNO , L_DECAY.MODE&quot;</span> <span class="p">)</span> <span class="c1">#_DR_BASE.PARENT_NUC_ID = L_DECAY.NUC_ID and</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_decays</span>
       
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">gs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">levels</span><span class="p">(</span> <span class="s2">&quot; LEVEL.SEQNO = 0 &quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">daughters_chain</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">offs</span> <span class="o">=</span><span class="p">[]</span>    
        <span class="n">dau_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_offsprings</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">nid</span> <span class="ow">in</span> <span class="n">dau_ids</span><span class="p">:</span>
            <span class="n">offs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nuclide</span><span class="p">(</span><span class="n">nid</span><span class="p">))</span>
        
        <span class="k">return</span> <span class="n">offs</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">parents_chain</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">pars</span> <span class="o">=</span><span class="p">[]</span>
        <span class="n">par_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ancestors</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">nid</span> <span class="ow">in</span> <span class="n">par_ids</span><span class="p">:</span>
            <span class="n">pars</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nuclide</span><span class="p">(</span><span class="n">nid</span><span class="p">))</span>
        
        <span class="k">return</span> <span class="n">pars</span>


    <span class="k">def</span> <span class="nf">_offsprings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">offsprings</span> <span class="o">=</span> <span class="p">[]):</span>
       
        <span class="n">_daugs</span> <span class="o">=</span> <span class="n">nuc</span><span class="o">.</span><span class="n">daughters</span> <span class="c1"># direct daughters</span>

        <span class="n">go</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1"># turns true when anything new is added</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">_daugs</span><span class="p">:</span> <span class="c1"># loop on direct daughters</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">d</span><span class="o">.</span><span class="n">nucid</span> <span class="ow">in</span> <span class="n">offsprings</span><span class="p">:</span> <span class="c1"># if not already added, add to the list</span>
                <span class="n">offsprings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">nucid</span><span class="p">)</span>
                <span class="n">go</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># nuclide added, need to call again</span>
            
        <span class="k">if</span><span class="p">(</span><span class="ow">not</span> <span class="n">go</span><span class="p">):</span> <span class="k">return</span> <span class="n">offsprings</span> <span class="c1"># nothing added, stop here</span>
        <span class="c1"># after the first call of daughter_chain, when called again the offstring param still has the previous value - why ? </span>
    
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">_daugs</span><span class="p">:</span> 
            <span class="bp">self</span><span class="o">.</span><span class="n">_offsprings</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">offsprings</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">offsprings</span>

    <span class="k">def</span> <span class="nf">_ancestors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nuc</span><span class="p">,</span> <span class="n">allpars</span> <span class="o">=</span> <span class="p">[]):</span>  
        <span class="n">_pars</span> <span class="o">=</span> <span class="n">nuc</span><span class="o">.</span><span class="n">parents</span> 
        <span class="n">go</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1"># if anythinks new is added</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">_pars</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">d</span><span class="o">.</span><span class="n">nucid</span> <span class="ow">in</span> <span class="n">allpars</span><span class="p">:</span>
                <span class="n">allpars</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">nucid</span><span class="p">)</span>
                <span class="n">go</span> <span class="o">=</span> <span class="kc">True</span>
            
        <span class="k">if</span><span class="p">(</span><span class="ow">not</span> <span class="n">go</span><span class="p">):</span> <span class="k">return</span> <span class="n">allpars</span>
    
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">_pars</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ancestors</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">allpars</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">allpars</span></div>


<div class="viewcode-block" id="Level"><a class="viewcode-back" href="../code.html#ndlab.Level">[docs]</a><span class="k">class</span> <span class="nc">Level</span><span class="p">(</span><span class="n">Ndm_base</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Properties of an energy eigenstate of a Nuclide</span>

<span class="sd">     z, n, and nucid are for convenience. The can be accessed also through the &#39;nuclide&#39; property</span>

<span class="sd">     :ivar int z: number of protons of the nuclide</span>
<span class="sd">     :ivar int n: number of neutron of the nuclide</span>
<span class="sd">     :ivar string nucid: nuclide&#39;s indentifier, e.g. 135XE</span>
<span class="sd">     :ivar int l_seqno: sequential number or the level, 0 being the g.s.</span>
<span class="sd">     :ivar Quantity energy: energy in keV</span>
<span class="sd">     :ivar Quantity half_life: H-l in the units given by the evaluation</span>
<span class="sd">     :ivar string half_life_units: units given by the evaluation</span>
<span class="sd">     :ivar Quantity half_life_sec: H-l given in seconds</span>
<span class="sd">     :ivar string jp_str: Jp given in the evaluation</span>
<span class="sd">     :ivar int jp_order: occurrence of this Jp value, 0 being the one closest to the g.s.</span>
<span class="sd">     :ivar float j: Angular momentum assignment given by :ref:`RIPL &lt;jp-label&gt;`</span>
<span class="sd">     :ivar int parity: parity assignment given by :ref:`RIPL &lt;jp-label&gt;`</span>
<span class="sd">     :ivar string jp_method: method of jp assignment by :ref:`RIPL &lt;jp-label&gt;`</span>
<span class="sd">     :ivar Quantity quadrupole_em: Quadrupole electric moment in barn</span>
<span class="sd">     :ivar Quantity dipole_mm: Dipole magnetic moment in nuclear magnetons</span>
<span class="sd">     :ivar string questionable: whether the existence  is questionable</span>
<span class="sd">     :ivar string configuration: nuclear configuration </span>
<span class="sd">     :ivar string isospin: isospin</span>
<span class="sd">     :ivar Nuclide nuclide: access to the nuclide</span>
<span class="sd">     :ivar Nuclide[] daughters: the direct daughters of the level decay, if any</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_csv_title</span> <span class="o">=</span> <span class="s2">&quot;z,n,nucid,l_seqno,energy,energy_unc,energy_limit,half_life,half_life_unc,half_life_limit,half_life_units,half_life_sec,half_life_sec_unc,half_life_sec_limit,j,parity,jp_order,jp_method,jp_str,quadrupole_em,quadrupole_em_unc,quadrupole_em_limit,dipole_mm,dipole_mm_unc,dipole_mm_limit,questionable,configuration,isospin&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">l_seqno</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">energy</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;energy&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">half_life</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;half_life&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">half_life_units</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">half_life_sec</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;half_life_sec&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">j</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">jp_str</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parity</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">jp_order</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">jp_method</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quadrupole_em</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;quadrupole_em&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dipole_mm</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;dipole_mm&quot;</span><span class="p">)</span>
       
        <span class="bp">self</span><span class="o">.</span><span class="n">questionable</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">isospin</span> <span class="o">=</span> <span class="kc">None</span>
       
        <span class="bp">self</span><span class="o">.</span><span class="n">_nuclides</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_daughters</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gammas</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gammas_filter</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_l_decays</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_l_decays_filter</span> <span class="o">=</span> <span class="kc">None</span>
       


    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;z&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;n&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">=</span>  <span class="n">data</span><span class="p">[</span><span class="s2">&quot;nucid&quot;</span><span class="p">]</span>        
        <span class="bp">self</span><span class="o">.</span><span class="n">l_seqno</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;l_seqno&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">energy</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">half_life</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">half_life_units</span> <span class="o">=</span>  <span class="n">data</span><span class="p">[</span><span class="s2">&quot;half_life_units&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">half_life_sec</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">jp_str</span> <span class="o">=</span>  <span class="n">_str_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;jp_str&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">j</span> <span class="o">=</span>  <span class="n">_str_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;j&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parity</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;parity&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">jp_order</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;jp_order&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">jp_method</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;jp_method&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quadrupole_em</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dipole_mm</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
       
        <span class="bp">self</span><span class="o">.</span><span class="n">questionable</span> <span class="o">=</span>  <span class="n">_str_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;questionable&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="n">_str_check</span><span class="p">(</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;configuration&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">isospin</span> <span class="o">=</span> <span class="n">_str_check</span><span class="p">(</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;isospin&quot;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">l_seqno</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">nuclide</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_nuclides</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_nuclides</span> <span class="o">=</span>  <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;NUCLIDE&quot;</span><span class="p">,</span> <span class="s2">&quot;Nuclide&quot;</span><span class="p">,</span> <span class="s2">&quot; NUCLIDE.NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; &quot;</span><span class="p">)</span>  
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nuclides</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">daughters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_daughters</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_daughters</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_daughters</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">decays</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_daughters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">daughter</span><span class="p">)</span>
        <span class="k">return</span>  <span class="bp">self</span><span class="o">.</span><span class="n">_daughters</span> 


<div class="viewcode-block" id="Level.gammas"><a class="viewcode-back" href="../code.html#ndlab.Level.gammas">[docs]</a>    <span class="k">def</span> <span class="nf">gammas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">DEFAULT</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gamma transitions starting from this level</span>

<span class="sd">        Args:</span>
<span class="sd">            filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`LEVEL &lt;LEVEL&gt;` entity</span>
<span class="sd">        Returns: </span>
<span class="sd">           the  list of :py:class:`ndlab.Gamma` starting from this level</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_property_filler</span><span class="p">(</span><span class="s2">&quot;_gammas&quot;</span><span class="p">,</span><span class="s2">&quot;gammas&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">,</span> <span class="s2">&quot; GAMMA.NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; and GAMMA.START_LEVEL_SEQNO = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">l_seqno</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; ORDER BY GAMMA.SEQNO&quot;</span><span class="p">)</span></div>
        
<div class="viewcode-block" id="Level.decays"><a class="viewcode-back" href="../code.html#ndlab.Level.decays">[docs]</a>    <span class="k">def</span> <span class="nf">decays</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">DEFAULT</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Decay modes of this level</span>

<span class="sd">        Args:</span>
<span class="sd">            filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`NUCLIDE &lt;NUCLIDE&gt;` entity</span>
<span class="sd">        Returns: </span>
<span class="sd">           the  list of :py:class:`ndlab.L_decays` of this level</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_property_filler</span><span class="p">(</span><span class="s2">&quot;_l_decays&quot;</span><span class="p">,</span><span class="s2">&quot;l_decays&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">,</span> <span class="s2">&quot; L_DECAY.NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; and L_DECAY.LEVEL_SEQNO = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">l_seqno</span><span class="p">),</span> <span class="kc">True</span> <span class="p">)</span></div></div>


<div class="viewcode-block" id="L_decay"><a class="viewcode-back" href="../code.html#ndlab.L_decay">[docs]</a><span class="k">class</span> <span class="nc">L_decay</span><span class="p">(</span><span class="n">Ndm_base</span><span class="p">):</span> 
    <span class="sd">&quot;&quot;&quot;Decay process</span>

<span class="sd">    Description of a level decay: parent, daughter, radiations, etc...</span>
<span class="sd">    nucid , l_seqno, and daughter_nucid are for convenience. The can be accessed also through the &#39;nuclide&#39;, &#39;daughter&#39;, and &#39;level&#39; properties, respectively</span>


<span class="sd">    :ivar string nucid: decaying nuclide indentifier, e.g. 135XE</span>
<span class="sd">    :ivar int l_seqno: sequential number or the decaying level, 0 being the g.s.</span>
<span class="sd">    :ivar string daughter_nucid: daughter nuclide indentifier, e.g. 135XE</span>
<span class="sd">    :ivar Quantity perc: decays per 100 decay of the parent</span>
<span class="sd">    :ivar Nuclide nuclide: the parent nuclide</span>
<span class="sd">    :ivar Level level: the parent level</span>
<span class="sd">    :ivar Nuclide[] daughters: the direct daughters of the  decay</span>
<span class="sd">    :ivar Nuclide nuclide: the parent nuclide</span>
<span class="sd">    :ivar Decay_mode mode: the decay mode</span>
<span class="sd">    :ivar Quantity toten_recoil: total recoil energy [keV]</span>
<span class="sd">    :ivar Quantity q_togs: Q-value  [keV]</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_csv_title</span> <span class="o">=</span> <span class="s2">&quot;z,n,nucid,l_seqno,code,daughter_nucid,z_dau,n_dau,perc,perc_unc,perc_limit,q_togs,q_togs_unc,q_togs_limit&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">l_seqno</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">code</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">daughter_nucid</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">perc</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;perc&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_en_recoil</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;recoil_tot_en&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">q_togs</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;q_togs&quot;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">_gamma</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gamma_filter</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_alpha</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_alpha_filter</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_annihil</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_annihil_filter</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_betam</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_betam_filter</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_anti_nu</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_anti_nu_filter</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_betap</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_betap_filter</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_annhils</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_annhils_filter</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_nu</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_nu_filter</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_x</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_x_filter</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ce</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ce_filter</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_auger</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_auger_filter</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_photon_tot</span> <span class="o">=</span> <span class="kc">None</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">_photon_tot_filter</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_nuclide</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_levels</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_daughter</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
       
        <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;z&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;n&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">=</span>  <span class="n">data</span><span class="p">[</span><span class="s2">&quot;nucid&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">l_seqno</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;l_seqno&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">code</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;decay_code&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">daughter_nucid</span> <span class="o">=</span>  <span class="n">data</span><span class="p">[</span><span class="s2">&quot;daughter_nucid&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z_dau</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;z_dau&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_dau</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;n_dau&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">perc</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_en_recoil</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">q_togs</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
   
        <span class="bp">self</span><span class="o">.</span><span class="n">pk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">l_seqno</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">)</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">_sql_decrad</span> <span class="o">=</span>  <span class="s2">&quot; _DR_BASE.PARENT_NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; and _DR_BASE.PARENT_LEVEL_SEQNO = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">l_seqno</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; and _DR_BASE.MODE = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; ORDER BY _DR_BASE.ENERGY&quot;</span>

<div class="viewcode-block" id="L_decay.gammas"><a class="viewcode-back" href="../code.html#ndlab.L_decay.gammas">[docs]</a>    <span class="k">def</span> <span class="nf">gammas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">DEFAULT</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gamma radiation from this decay</span>

<span class="sd">        The radiation is emitted by the daughter</span>

<span class="sd">        Args:</span>
<span class="sd">            filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_GAMMA &lt;DR_GAMMA&gt;` entity</span>
<span class="sd">        Returns: </span>
<span class="sd">           the  list of :py:class:`ndlab.Dr_gamma` from this decay</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_property_filler</span><span class="p">(</span><span class="s2">&quot;_gamma&quot;</span><span class="p">,</span><span class="s2">&quot;dr_gammas&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">,</span> <span class="s2">&quot; DR_GAMMA.PARENT_NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; and DR_GAMMA.PARENT_LEVEL_SEQNO = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">l_seqno</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; and DR_GAMMA.MODE = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; ORDER BY DR_GAMMA.SEQNO&quot;</span><span class="p">)</span> </div>

<div class="viewcode-block" id="L_decay.alphas"><a class="viewcode-back" href="../code.html#ndlab.L_decay.alphas">[docs]</a>    <span class="k">def</span> <span class="nf">alphas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">DEFAULT</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Alpha radiation from this decay</span>

<span class="sd">        Args:</span>
<span class="sd">            filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_ALPHA &lt;DR_ALPHA&gt;` entity</span>
<span class="sd">        Returns: </span>
<span class="sd">           the  list of :py:class:`ndlab.Dr_alpha` from this decay</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_property_filler</span><span class="p">(</span><span class="s2">&quot;_alpha&quot;</span><span class="p">,</span><span class="s2">&quot;dr_alphas&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sql_decrad</span> <span class="p">)</span></div>
    
    <span class="k">def</span> <span class="nf">annihil</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">DEFAULT</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Annihilation radiation</span>

<span class="sd">        Args:</span>
<span class="sd">            filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_ANNIHIL &lt;DR_ANNIHIL&gt;` entity</span>
<span class="sd">        Returns: </span>
<span class="sd">           the  list of :py:class:`ndlab.Dr_annihil` from this decay</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_property_filler</span><span class="p">(</span><span class="s2">&quot;_annihil&quot;</span><span class="p">,</span><span class="s2">&quot;dr_annihil&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sql_decrad</span> <span class="p">)</span>

<div class="viewcode-block" id="L_decay.betas_m"><a class="viewcode-back" href="../code.html#ndlab.L_decay.betas_m">[docs]</a>    <span class="k">def</span> <span class="nf">betas_m</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">DEFAULT</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Beta- radiation from this decay</span>

<span class="sd">        Args:</span>
<span class="sd">            filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_BETAM &lt;DR_BETAM&gt;` entity</span>
<span class="sd">        Returns: </span>
<span class="sd">           the  list of :py:class:`ndlab.Dr_betam` from this decay</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_property_filler</span><span class="p">(</span><span class="s2">&quot;_betam&quot;</span><span class="p">,</span><span class="s2">&quot;dr_beta_ms&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sql_decrad</span> <span class="p">)</span></div>

<div class="viewcode-block" id="L_decay.anti_nus"><a class="viewcode-back" href="../code.html#ndlab.L_decay.anti_nus">[docs]</a>    <span class="k">def</span> <span class="nf">anti_nus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">DEFAULT</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Anti neutrino radiation from this decay</span>

<span class="sd">        Args:</span>
<span class="sd">            filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_ANTI_NU &lt;DR_ANTI_NU&gt;` entity</span>
<span class="sd">        Returns: </span>
<span class="sd">           the  list of :py:class:`ndlab.Dr_anti_nu` from this decay</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_property_filler</span><span class="p">(</span><span class="s2">&quot;_anti_nu&quot;</span><span class="p">,</span><span class="s2">&quot;dr_anti_nus&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sql_decrad</span> <span class="p">)</span></div>

<div class="viewcode-block" id="L_decay.nus"><a class="viewcode-back" href="../code.html#ndlab.L_decay.nus">[docs]</a>    <span class="k">def</span> <span class="nf">nus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">DEFAULT</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Neutrino radiation from this decay</span>

<span class="sd">        Args:</span>
<span class="sd">            filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_NU &lt;DR_NU&gt;` entity</span>
<span class="sd">        Returns: </span>
<span class="sd">           the  list of :py:class:`ndlab.Dr_Nu` from this decay</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_property_filler</span><span class="p">(</span><span class="s2">&quot;_nu&quot;</span><span class="p">,</span><span class="s2">&quot;dr_nus&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sql_decrad</span> <span class="p">)</span>   
        <span class="c1">#ddm = copy.deepcopy(dm) </span>
        <span class="c1">#for d in dm:</span>
        <span class="c1">#    dd = copy.deepcopy(d)</span>
        <span class="c1">#    dd.energy = d.energy_ec</span>
        <span class="c1">#    dd.intensity = d.intensity_ec</span>
        <span class="c1">#    ddm.append(dd)</span>
        <span class="c1">#self._nu = ddm</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_nu</span> <span class="o">=</span> <span class="n">dm</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nu</span></div>

<div class="viewcode-block" id="L_decay.betas_p"><a class="viewcode-back" href="../code.html#ndlab.L_decay.betas_p">[docs]</a>    <span class="k">def</span> <span class="nf">betas_p</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">DEFAULT</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Beta+ radiation from this decay</span>

<span class="sd">        Args:</span>
<span class="sd">            filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_BETAP &lt;DR_BETAP&gt;` entity</span>
<span class="sd">        Returns: </span>
<span class="sd">           the  list of :py:class:`ndlab.Dr_betap` from this decay</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_property_filler</span><span class="p">(</span><span class="s2">&quot;_betap&quot;</span><span class="p">,</span><span class="s2">&quot;dr_beta_ps&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sql_decrad</span> <span class="p">)</span>  </div>

<div class="viewcode-block" id="L_decay.annihil"><a class="viewcode-back" href="../code.html#ndlab.L_decay.annihil">[docs]</a>    <span class="k">def</span> <span class="nf">annihil</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">DEFAULT</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Annihilation radiation from this decay</span>

<span class="sd">        Args:</span>
<span class="sd">            filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_ANNIHIL &lt;DR_ANNIHIL&gt;` entity</span>
<span class="sd">        Returns: </span>
<span class="sd">           the  list of :py:class:`ndlab.Dr_annihil` from this decay</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_property_filler</span><span class="p">(</span><span class="s2">&quot;_annhils&quot;</span><span class="p">,</span><span class="s2">&quot;dr_annihil&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sql_decrad</span> <span class="p">)</span> </div>

<div class="viewcode-block" id="L_decay.dr_photon_tot"><a class="viewcode-back" href="../code.html#ndlab.L_decay.dr_photon_tot">[docs]</a>    <span class="k">def</span> <span class="nf">dr_photon_tot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">DEFAULT</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Photons emitted in the decay process, if any, regardless of the daughter or the radiation type (X- or Gamma- ray)</span>

<span class="sd">        Args:</span>
<span class="sd">            filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_PHOTON_TOTAL &lt;DR_PHOTON_TOTAL&gt;` entity</span>
<span class="sd">        Returns: </span>
<span class="sd">           the  list of :py:class:`ndlab.Dr_photon_tot` from this decay</span>

<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_property_filler</span><span class="p">(</span><span class="s2">&quot;_photon_tot&quot;</span><span class="p">,</span><span class="s2">&quot;dr_photon_tot&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">,</span> <span class="s2">&quot;  DR_PHOTON_TOTAL.PARENT_NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; and DR_PHOTON_TOTAL.PARENT_LEVEL.SEQNO = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">l_seqno</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; ORDER BY DR_PHOTON_TOTAL.ENERGY&quot;</span> <span class="p">,</span> <span class="kc">True</span> <span class="p">)</span> </div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">nuclide</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
         <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_nuclide</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">_nuclide</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;NUCLIDE&quot;</span><span class="p">,</span> <span class="s2">&quot;Nuclide&quot;</span><span class="p">,</span> <span class="s2">&quot; NUCLIDE.NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; &quot;</span> <span class="p">)</span>
             <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_nuclide</span> <span class="o">!=</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_nuclide</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_nuclide</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nuclide</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nuclide</span>  
    
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">level</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
         <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_levels</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">_levels</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;LEVEL&quot;</span><span class="p">,</span> <span class="s2">&quot;Levels&quot;</span><span class="p">,</span>  <span class="s2">&quot; LEVEL.NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; and LEVEL.SEQNO = &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">l_seqno</span><span class="p">)</span>
         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_levels</span>  

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">daughter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
         <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_daughters</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">_daughters</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;NUCLIDE&quot;</span><span class="p">,</span> <span class="s2">&quot;Nuclide&quot;</span><span class="p">,</span> <span class="s2">&quot; NUCLIDE.NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">daughter_nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; &quot;</span><span class="p">)</span>
         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_daughters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
         <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_mode</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span> <span class="o">=</span>  <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;DECAY_MODE&quot;</span><span class="p">,</span><span class="s2">&quot;Decay_mode&quot;</span> <span class="s2">&quot; DECAY_MODE.DECAY_CODE = &#39;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">code</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&#39; &quot;</span><span class="p">)</span>
         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">dataset_code</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">toten_recoil</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_en_recoil</span>


<div class="viewcode-block" id="L_decay.xs"><a class="viewcode-back" href="../code.html#ndlab.L_decay.xs">[docs]</a>    <span class="k">def</span> <span class="nf">xs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">DEFAULT</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;X-rays radiation from this decay</span>

<span class="sd">        Args:</span>
<span class="sd">            filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_X &lt;DR_X&gt;` entity</span>
<span class="sd">        Returns: </span>
<span class="sd">           the  list of :py:class:`ndlab.Dr_x` from this decay</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_property_filler</span><span class="p">(</span><span class="s2">&quot;_x&quot;</span><span class="p">,</span><span class="s2">&quot;dr_xs&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sql_decrad</span> <span class="p">)</span>  </div>

<div class="viewcode-block" id="L_decay.convels"><a class="viewcode-back" href="../code.html#ndlab.L_decay.convels">[docs]</a>    <span class="k">def</span> <span class="nf">convels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">DEFAULT</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Conversion electrons from this decay</span>

<span class="sd">        Args:</span>
<span class="sd">            filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_CONV_EL &lt;DR_CONV_EL&gt;` entity</span>
<span class="sd">        Returns: </span>
<span class="sd">           the  list of :py:class:`ndlab.dr_conv_el` from this decay</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_property_filler</span><span class="p">(</span><span class="s2">&quot;_ce&quot;</span><span class="p">,</span><span class="s2">&quot;dr_convels&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sql_decrad</span> <span class="p">)</span>  </div>
        
<div class="viewcode-block" id="L_decay.augers"><a class="viewcode-back" href="../code.html#ndlab.L_decay.augers">[docs]</a>    <span class="k">def</span> <span class="nf">augers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">DEFAULT</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Auger electrons from this decay</span>

<span class="sd">        Args:</span>
<span class="sd">            filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_AUGER &lt;DR_AUGER&gt;` entity</span>
<span class="sd">        Returns: </span>
<span class="sd">           the  list of :py:class:`ndlab.Dr_auger` from this decay</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_property_filler</span><span class="p">(</span><span class="s2">&quot;_auger&quot;</span><span class="p">,</span><span class="s2">&quot;dr_augers&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sql_decrad</span> <span class="p">)</span>          </div>

<div class="viewcode-block" id="L_decay.tot_rad_en"><a class="viewcode-back" href="../code.html#ndlab.L_decay.tot_rad_en">[docs]</a>    <span class="k">def</span> <span class="nf">tot_rad_en</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">radiations</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Energy emitted by a set of radiations</span>

<span class="sd">        calculated as energy * intensity / 100</span>

<span class="sd">        Args:</span>
<span class="sd">            radiations (Decay_radiation): list of any decay radiations</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            Quantity: the energy</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span><span class="p">(</span><span class="n">radiations</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">radiations</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">):</span>
             <span class="k">return</span> <span class="n">ufloat</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">radiations</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">energy</span> <span class="o">*</span> <span class="n">radiations</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">intensity</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">radiations</span><span class="p">))])</span><span class="o">/</span><span class="mi">100</span></div>
    
<div class="viewcode-block" id="L_decay.tot_measured_en"><a class="viewcode-back" href="../code.html#ndlab.L_decay.tot_measured_en">[docs]</a>    <span class="k">def</span> <span class="nf">tot_measured_en</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Total energy emitted per 100 decays of the parent</span>

<span class="sd">        calculated as sum (energy * intensity / 100 ) * Q_togs over all radiations</span>

<span class="sd">        Returns:</span>
<span class="sd">            Quantity: the total energy</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">rads</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">xs</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">gammas</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">convels</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">augers</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">alphas</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">betas_m</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">betas_p</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">nus</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">anti_nus</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">annihil</span><span class="p">()]</span>
        <span class="n">sm</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">rads</span><span class="p">:</span>
            <span class="n">sm</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tot_rad_en</span><span class="p">(</span><span class="n">r</span><span class="p">))</span>
        <span class="n">sm</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">toten_recoil</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">sm</span><span class="p">)</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">q_togs</span>   </div></div>


<div class="viewcode-block" id="Gamma"><a class="viewcode-back" href="../code.html#ndlab.Gamma">[docs]</a><span class="k">class</span> <span class="nc">Gamma</span><span class="p">(</span><span class="n">Ndm_base</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Electromagnetic transition between levels of the same nuclide</span>

<span class="sd">    z, n, and nucid can be accessed also through the &#39;nuclide&#39; property. l_seqno can be accessed though the &#39;level&#39; property</span>

<span class="sd">    :ivar int z: number of protons of the nuclide</span>
<span class="sd">    :ivar int n: number of neutron of the nuclide</span>
<span class="sd">    :ivar string nucid: nuclide&#39;s indentifier, e.g. 135XE</span>
<span class="sd">    :ivar int l_seqno: sequential number of the start level, 0 being the g.s.</span>
<span class="sd">    :ivar int g_seqno: sequential number of this gamma within the start level gammas, 0 being the lowest energy one</span>
<span class="sd">    :ivar Nuclide nuclide: the  nuclide</span>
<span class="sd">    :ivar Level start_level: the start level</span>
<span class="sd">    :ivar Level end_level: the start level</span>
<span class="sd">    :ivar Quantity energy: energy [keV]</span>
<span class="sd">    :ivar Quantity rel_photon_intens: relative photon intensity %</span>
<span class="sd">    :ivar string multipolarity: multipolarity</span>
<span class="sd">    :ivar Quantity mixing_ratio: mixing ratio </span>
<span class="sd">    :ivar Quantity tot_conv_coeff: total conversion coefficient</span>
<span class="sd">    :ivar Quantity bew: reduced electric transition probabilities in Weisskopf units    </span>
<span class="sd">    :ivar Quantity bew_order: bew order</span>
<span class="sd">    :ivar Quantity bmw: reduced magnetic transition probabilities in Weisskopf units   </span>
<span class="sd">    :ivar Quantity bmw_order: bmx order</span>
<span class="sd">    :ivar string questionable: whether the existence  is questionable</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_csv_title</span> <span class="o">=</span> <span class="s1">&#39;z,n,nucid,g_seqno,l_seqno,energy,energy_unc,energy_limit,rel_photon_intens,rel_photon_intens_unc,rel_photon_intens_limit,multipolarity,mixing_ratio,mixing_ratio_unc,mixing_ratio_limit,tot_conv_coeff,tot_conv_coeff_unc,tot_conv_coeff_limit,bew,bew_unc,bew_limit,bew_order,bmw,bmw_unc,bmw_limit,bmw_order,questionable,final_l_seqno&#39;</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">g_seqno</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">l_seqno</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">energy</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;energy&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rel_photon_intens</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;rel_photon_intens&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multipolarity</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mixing_ratio</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;mixing_ratio&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tot_conv_coeff</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;tot_conv_coeff&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bew</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;bew&quot;</span><span class="p">)</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">bew_order</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bmw</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;bmw&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bmw_order</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">questionable</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">final_l_seqno</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_nuclides</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_start_level</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_end_level</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">nuclide</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_nuclides</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_nuclides</span> <span class="o">=</span>  <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;NUCLIDE&quot;</span><span class="p">,</span> <span class="s2">&quot;Nuclide&quot;</span><span class="p">,</span> <span class="s2">&quot; NUCLIDE.NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; &quot;</span><span class="p">)</span>  
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nuclides</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">start_level</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
         <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_start_level</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">_start_level</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;LEVEL&quot;</span><span class="p">,</span> <span class="s2">&quot;Level&quot;</span><span class="p">,</span>  <span class="s2">&quot; LEVEL.NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; and LEVEL.SEQNO = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">l_seqno</span><span class="p">))</span>
         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start_level</span>  

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">end_level</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_end_level</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_end_level</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;LEVEL&quot;</span><span class="p">,</span> <span class="s2">&quot;Level&quot;</span><span class="p">,</span>  <span class="s2">&quot; LEVEL.NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; and LEVEL.SEQNO = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">final_l_seqno</span><span class="p">))</span>
                <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_end_level</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_end_level</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_end_level</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_end_level</span>


    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;z&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;n&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">=</span>  <span class="n">data</span><span class="p">[</span><span class="s2">&quot;nucid&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">g_seqno</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;g_seqno&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">l_seqno</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;l_seqno&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">energy</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rel_photon_intens</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multipolarity</span> <span class="o">=</span>  <span class="n">_str_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;multipolarity&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mixing_ratio</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tot_conv_coeff</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bew</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bew_order</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;bew_order&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bmw</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bmw_order</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;bmw_order&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">questionable</span> <span class="o">=</span>  <span class="n">_str_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;questionable&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">final_l_seqno</span> <span class="o">=</span> <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;final_l_seqno&quot;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">l_seqno</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">g_seqno</span><span class="p">)</span></div>




<div class="viewcode-block" id="Decay_radiation"><a class="viewcode-back" href="../code.html#ndlab.Decay_radiation">[docs]</a><span class="k">class</span> <span class="nc">Decay_radiation</span><span class="p">(</span><span class="n">Ndm_base</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for decay radiations</span>

<span class="sd">    Its Attributes are inherited by all the Dr_* classes describing each type of radiation</span>

<span class="sd">    parent_nucid , parent_l_seqno, daughter_nucid, and daughter_l_seqno are for convenience. The can be accessed also through the &#39;nuclide&#39;, &#39;daughter&#39;, and &#39;level&#39; properties, respectively</span>

<span class="sd">    :ivar Nuclide parent: the  parent nuclide</span>
<span class="sd">    :ivar Nuclide daughter: the daughter nuclide</span>
<span class="sd">    :ivar Level parent_level: the parent level </span>
<span class="sd">    :ivar Level fed_level: the daughter level populated by the decay</span>
<span class="sd">    :ivar L_decay decay: access to the level decay, with all the other radiations emitted </span>
<span class="sd">    :ivar Quantity energy: energy [keV]</span>
<span class="sd">    :ivar Quantity intensity: for 100 decays of the parent</span>

<span class="sd">    :ivar string parent_nucid: parent nuclide indentifier, e.g. 135XE</span>
<span class="sd">    :ivar int parent_l_seqno: sequential number or the parent level, 0 being the g.s.</span>
<span class="sd">    :ivar string daughter_nucid: daughter nuclide indentifier, e.g. 135XE</span>
<span class="sd">    :ivar int daughter_l_seqno: sequential number or the daughter level populated, 0 being the g.s.</span>
<span class="sd">    :ivar int decay_code: code of the decay, see the DECAY_* constants in ndlaborm</span>


<span class="sd">   </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_csv_title</span> <span class="o">=</span> <span class="s1">&#39;parent_nucid,parent_l_seqno,parent_z,parent_n,daughter_nucid,daughter_z,daughter_n,daughter_l_seqno,adopted_daughter_g_seqno,decay_code,type_a,type_b,type_c,ec_energy,ec_energy_unc,ec_energy_limit,bpec_intensity,bpec_intensity_unc,bpec_intensity_limit,ec_intensity,ec_intensity_unc,ec_intensity_limit,b_logft,b_logft_unc,b_logft_limit,intensity,intensity_unc,intensity_limit,b_trans_type,energy,energy_unc,energy_limit,a_hindrance,a_hindrance_unc,a_hindrance_limit,b_endpoint,b_endpoint_unc,b_endpoint_limit,d_energy_x,d_energy_x_unc,d_energy_x_limit,r_seqno,energy_nu,energy_nu_unc,energy_nu_limit&#39;</span>
    <span class="n">_csv_title_short</span> <span class="o">=</span> <span class="s1">&#39;parent_nucid,parent_l_seqno,parent_z,parent_n,daughter_nucid,daughter_z,daughter_n,daughter_l_seqno,energy,energy_unc,energy_limit,intensity,intensity_unc,intensity_limit&#39;</span>
  
<span class="c1">#    adopted_daughter_g_seqno,decay_code,type_a,type_b,type_c,ec_energy,ec_energy_unc,ec_energy_limit,bpec_intensity,bpec_intensity_unc,bpec_intensity_limit,ec_intensity,ec_intensity_unc,ec_intensity_limit,b_logft,b_logft_unc,b_logft_limit,intensity,intensity_unc,intensity_limit,b_trans_type,energy,energy_unc,energy_limit,a_hindrance,a_hindrance_unc,a_hindrance_limit,b_endpoint,b_endpoint_unc,b_endpoint_limit,d_energy_x,d_energy_x_unc,d_energy_x_limit,r_seqno,energy_nu,energy_nu_unc,energy_nu_limit&#39;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent_nucid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent_l_seqno</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">daughter_nucid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">daughter_l_seqno</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">decay_code</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type_a</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type_b</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type_c</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">intensity</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;intensity&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">energy</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;energy&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">r_seqno</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_daughter</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fed_level</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_start_level</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_decay</span> <span class="o">=</span> <span class="kc">None</span>


    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent_nucid</span> <span class="o">=</span>  <span class="n">data</span><span class="p">[</span><span class="s2">&quot;parent_nucid&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent_l_seqno</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;parent_l_seqno&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent_z</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;z&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent_n</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;n&quot;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">daughter_nucid</span> <span class="o">=</span>  <span class="n">data</span><span class="p">[</span><span class="s2">&quot;daughter_nucid&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">daughter_l_seqno</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;adopted_daughter_l_seqno&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">daughter_z</span> <span class="o">=</span> <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;z_dau&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">daughter_n</span> <span class="o">=</span> <span class="n">_int_check</span><span class="p">(</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;n_dau&quot;</span><span class="p">])</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">decay_code</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;decay_code&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type_a</span> <span class="o">=</span>  <span class="n">data</span><span class="p">[</span><span class="s2">&quot;type_a&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type_b</span> <span class="o">=</span>  <span class="n">data</span><span class="p">[</span><span class="s2">&quot;type_b&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type_c</span> <span class="o">=</span>  <span class="n">data</span><span class="p">[</span><span class="s2">&quot;type_c&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">intensity</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">energy</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">r_seqno</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;r_seqno&quot;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pk</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">r_seqno</span><span class="p">)</span>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">parent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span>  <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;NUCLIDE&quot;</span><span class="p">,</span> <span class="s2">&quot;Nuclide&quot;</span><span class="p">,</span> <span class="s2">&quot; NUCLIDE.NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; &quot;</span><span class="p">)</span>  
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">daughter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_daughter</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_daughter</span> <span class="o">=</span>  <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;NUCLIDE&quot;</span><span class="p">,</span> <span class="s2">&quot;Nuclide&quot;</span><span class="p">,</span> <span class="s2">&quot; NUCLIDE.NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">daughter_nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; &quot;</span><span class="p">)</span>  
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_daughter</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">fed_level</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_fed_level</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_fed_level</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;LEVEL&quot;</span><span class="p">,</span> <span class="s2">&quot;Level&quot;</span><span class="p">,</span>   <span class="s2">&quot; LEVEL.NUC = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">daughter_nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; and LEVEL.SEQNO = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">daughter_l_seqno</span><span class="p">)</span>  <span class="o">+</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fed_level</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">parent_level</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent_level</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parent_level</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;LEVEL&quot;</span><span class="p">,</span> <span class="s2">&quot;Level&quot;</span><span class="p">,</span>   <span class="s2">&quot; LEVEL.NUC = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; and LEVEL.SEQNO = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent_l_seqno</span><span class="p">)</span>  <span class="o">+</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent_level</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">decay</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_decay</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_decay</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;L_DECAY&quot;</span><span class="p">,</span><span class="s2">&quot;L_decay&quot;</span><span class="p">,</span> <span class="s2">&quot; L_DECAY.NUC = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; and L_DECAY.LEVEL = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent_l_seqno</span><span class="p">)</span>  <span class="o">+</span> <span class="s2">&quot; and L_DECAY.CODE = &quot;</span> <span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">decay_code</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_decay</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="k">class</span> <span class="nc">Decay_mode</span><span class="p">(</span><span class="n">Ndm_base</span><span class="p">):</span>
  
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ensdf_code</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">decay_code</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataset_code</span> <span class="o">=</span> <span class="kc">None</span>


    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ensdf_code</span> <span class="o">=</span>  <span class="n">data</span><span class="p">[</span><span class="s2">&quot;ensdf_code&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">decay_code</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;decay_code&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataset_code</span> <span class="o">=</span>  <span class="n">data</span><span class="p">[</span><span class="s2">&quot;dataset_code&quot;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pk</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">decay_code</span><span class="p">)</span>




<span class="k">class</span> <span class="nc">_Fy</span><span class="p">(</span><span class="n">Ndm_base</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for Fission yields</span>

<span class="sd">    :ivar Nuclide parent: the fissioning nuclide</span>
<span class="sd">    :ivar Nuclide daughter: the product nuclide</span>
<span class="sd">    :ivar Quantity thermal: thermal neutron fission yield</span>
<span class="sd">    :ivar Quantity fast: fast neutron fission yield</span>
<span class="sd">    :ivar Quantity mev_14: 14 MeV neutron fission yield</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_csv_title</span> <span class="o">=</span> <span class="s2">&quot;parent_nucid,daughter_nucid,l_seqno,thermal,thermal_unc,thermal_limit,fast,fast_unc,fast_limit,mev_14,mev_14_unc,mev_14_limit&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent_nucid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">daughter_nucid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">l_seqno</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">thermal</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s1">&#39;ther_yield&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fast</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s1">&#39;fast_yield&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mev_14</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s1">&#39;mev_14_yield&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_daughter</span> <span class="o">=</span> <span class="kc">None</span>


    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent_nucid</span> <span class="o">=</span>  <span class="n">data</span><span class="p">[</span><span class="s2">&quot;parent_nucid&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">daughter_nucid</span> <span class="o">=</span>  <span class="n">data</span><span class="p">[</span><span class="s2">&quot;daughter_nucid&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">l_seqno</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;l_seqno&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fast</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mev_14</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_nucid</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">daughter_nucid</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">l_seqno</span><span class="p">)</span>
    
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">parent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span>  <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;NUCLIDE&quot;</span><span class="p">,</span> <span class="s2">&quot;Nuclide&quot;</span><span class="p">,</span> <span class="s2">&quot; NUCLIDE.NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; &quot;</span><span class="p">)</span>  
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">daughter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_daughter</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_daughter</span> <span class="o">=</span>  <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;NUCLIDE&quot;</span><span class="p">,</span> <span class="s2">&quot;Nuclide&quot;</span><span class="p">,</span> <span class="s2">&quot; NUCLIDE.NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">daughter_nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; &quot;</span><span class="p">)</span>  
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_daughter</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<div class="viewcode-block" id="Cum_fy"><a class="viewcode-back" href="../code.html#ndlab.Cum_fy">[docs]</a><span class="k">class</span> <span class="nc">Cum_fy</span><span class="p">(</span><span class="n">_Fy</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Cumulative fission yield</span>

<span class="sd">    :ivar Nuclide parent: the fissioning nuclide</span>
<span class="sd">    :ivar Nuclide daughter: the product nuclide</span>
<span class="sd">    :ivar Quantity thermal: thermal neutron fission yield</span>
<span class="sd">    :ivar Quantity fast: fast neutron fission yield</span>
<span class="sd">    :ivar Quantity mev_14: 14 MeV neutron fission yield</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    
    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>


<div class="viewcode-block" id="Ind_fy"><a class="viewcode-back" href="../code.html#ndlab.Ind_fy">[docs]</a><span class="k">class</span> <span class="nc">Ind_fy</span><span class="p">(</span><span class="n">_Fy</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Independent fission yield</span>

<span class="sd">    :ivar Nuclide parent: the fissioning nuclide</span>
<span class="sd">    :ivar Nuclide daughter: the product nuclide</span>
<span class="sd">    :ivar Quantity thermal: thermal neutron fission yield</span>
<span class="sd">    :ivar Quantity fast: fast neutron fission yield</span>
<span class="sd">    :ivar Quantity mev_14: 14 MeV neutron fission yield</span>
<span class="sd">    &quot;&quot;&quot;</span>

    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    
    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>



<div class="viewcode-block" id="Dr_alpha"><a class="viewcode-back" href="../code.html#ndlab.Dr_alpha">[docs]</a><span class="k">class</span> <span class="nc">Dr_alpha</span><span class="p">(</span><span class="n">Decay_radiation</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Alpha decay radiation</span>

<span class="sd">    Inherits all the attributes of :py:class:`Decay_radiation`</span>

<span class="sd">    :ivar Quantity hindrance: hindrance factor</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_csv_title</span> <span class="o">=</span> <span class="n">Decay_radiation</span><span class="o">.</span><span class="n">_csv_title_short</span> <span class="o">+</span> <span class="s2">&quot;,hindrance,hindrance_unc,hindrance_limit&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">hindrance</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;a_hindrance&quot;</span><span class="p">)</span>
       

    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hindrance</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>


<div class="viewcode-block" id="Dr_betam"><a class="viewcode-back" href="../code.html#ndlab.Dr_betam">[docs]</a><span class="k">class</span> <span class="nc">Dr_betam</span><span class="p">(</span><span class="n">Decay_radiation</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Beta- decay radiation</span>

<span class="sd">    Inherits all the attributes of :py:class:`Decay_radiation`</span>
<span class="sd">    Contains the energy of the associated anti-neutrino</span>

<span class="sd">    :ivar Quantity logft: Log ft</span>
<span class="sd">    :ivar Quantity endpoint: end point energy [keV]</span>
<span class="sd">    :ivar String trans_type: transition type</span>
<span class="sd">    :ivar Quantity anti_nu_energy: energy ino</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_csv_title</span> <span class="o">=</span> <span class="n">Decay_radiation</span><span class="o">.</span><span class="n">_csv_title_short</span> <span class="o">+</span>   <span class="s1">&#39;,logft,logft_unc,logft_limit,trans_type,endpoint,endpoint_unc,endpoint_limit,anti_nu_energy,anti_nu_energy_unc,anti_nu_energy_limit&#39;</span>


    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">logft</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;logft&quot;</span><span class="p">)</span>  
        <span class="bp">self</span><span class="o">.</span><span class="n">trans_type</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;b_endpoint&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">anti_nu_energy</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;energy_nu&quot;</span><span class="p">)</span>
      

    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logft</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trans_type</span> <span class="o">=</span>  <span class="n">_str_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;b_trans_type&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">anti_nu_energy</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>

<div class="viewcode-block" id="Dr_anti_nu"><a class="viewcode-back" href="../code.html#ndlab.Dr_anti_nu">[docs]</a><span class="k">class</span> <span class="nc">Dr_anti_nu</span><span class="p">(</span><span class="n">Decay_radiation</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Anti neutrino  decay radiation</span>

<span class="sd">    Inherits all the attributes of :py:class:`Decay_radiation`</span>
<span class="sd">    Contains the energy of the associated electron</span>


<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_csv_title</span> <span class="o">=</span> <span class="n">Decay_radiation</span><span class="o">.</span><span class="n">_csv_title_short</span> <span class="o">+</span>   <span class="s1">&#39;,logft,logft_unc,logft_limit,trans_type,endpoint,endpoint_unc,endpoint_limit,bm_energy,bm_energy_unc,bm_energy_limit&#39;</span>


    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">energy</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;energy_nu&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">logft</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;logft&quot;</span><span class="p">)</span>  
        <span class="bp">self</span><span class="o">.</span><span class="n">trans_type</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;b_endpoint&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bm_energy</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;energy&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logft</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trans_type</span> <span class="o">=</span>  <span class="n">_str_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;b_trans_type&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bm_energy</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>


<div class="viewcode-block" id="Dr_nu"><a class="viewcode-back" href="../code.html#ndlab.Dr_nu">[docs]</a><span class="k">class</span> <span class="nc">Dr_nu</span><span class="p">(</span><span class="n">Decay_radiation</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Neutrino decay radiation</span>

<span class="sd">    Inherits all the attributes of :py:class:`Decay_radiation`</span>
<span class="sd">    The fields energy, intensity, log_ft, trans_type, endpoint, bp_energy refer to the emission via beta+ process</span>
<span class="sd">    The fields intensity_ec, energy_ec refer to the emission via electron capture</span>

<span class="sd">    :ivar Quantity intensity: intensity for emission via beta+ process</span>
<span class="sd">    :ivar Quantity energy: mean energy for emission via beta+ capture process</span>

<span class="sd">    :ivar Quantity intensity_ec: intensity for emission via electron capture process</span>
<span class="sd">    :ivar Quantity energy_ec: mean energy for emission via electron capture process</span>

<span class="sd">    :ivar Quantity logft: Log ft for the beta+ decay</span>
<span class="sd">    :ivar Quantity endpoint: end point energy [keV] the beta+ decay</span>
<span class="sd">    :ivar String trans_type: transition type</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_csv_title</span> <span class="o">=</span> <span class="n">Decay_radiation</span><span class="o">.</span><span class="n">_csv_title_short</span> <span class="o">+</span>   <span class="s1">&#39;,logft,logft_unc,logft_limit,trans_type,endpoint,endpoint_unc,endpoint_limit,bp_energy,bp_energy_unc,bp_energy_limit,energy_ec,energy_ec_unc,energy_ec_limit,intensity_ec,intensity_ec_unc,intensity_ec_limit&#39;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">energy</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;energy_nu&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">intensity_ec</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;intensity_ec&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">energy_ec</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;energy_nu_ec&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">logft</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;logft&quot;</span><span class="p">)</span>  
        <span class="bp">self</span><span class="o">.</span><span class="n">trans_type</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;b_endpoint&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bp_energy</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;energy&quot;</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">intensity_ec</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">energy_ec</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">logft</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trans_type</span> <span class="o">=</span>  <span class="n">_str_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;b_trans_type&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bp_energy</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>
       
<div class="viewcode-block" id="Dr_betap"><a class="viewcode-back" href="../code.html#ndlab.Dr_betap">[docs]</a><span class="k">class</span> <span class="nc">Dr_betap</span><span class="p">(</span><span class="n">Dr_betam</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Beta+/Electron Capture decay radiation</span>

<span class="sd">    Inherits all the attributes of :py:class:`Dr_betam`</span>
<span class="sd">    Contains the energy of the associated neutrino</span>

<span class="sd">    :ivar Quantity ec_energy: electron capture energy</span>
<span class="sd">    :ivar Quantity intensity: beta+ intensity</span>
<span class="sd">    :ivar Quantity ec_intensity: electron capture intensity</span>
<span class="sd">    :ivar Quantity bpec_intensity: beta+ + electron capture intensity</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_csv_title</span> <span class="o">=</span> <span class="n">Decay_radiation</span><span class="o">.</span><span class="n">_csv_title_short</span> <span class="o">+</span>   <span class="s1">&#39;,logft,logft_unc,logft_limit,trans_type,endpoint,endpoint_unc,endpoint_limit,nu_energy,nu_energy_unc,nu_energy_limit,ec_energy,ec_energy_unc,ec_energy_limit,bpec_intensity,bpec_intensity_unc,bpec_intensity_limit,ec_intensity,ec_intensity_unc,ec_intensity_limit&#39;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ec_energy</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;ec_energy&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bpec_intensity</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;bpec_intensity&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ec_intensity</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;ec_intensity&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nu_energy</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;energy_nu&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ec_energy</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bpec_intensity</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ec_intensity</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nu_energy</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>


<div class="viewcode-block" id="Dr_delayed"><a class="viewcode-back" href="../code.html#ndlab.Dr_delayed">[docs]</a><span class="k">class</span> <span class="nc">Dr_delayed</span><span class="p">(</span><span class="n">Decay_radiation</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Delayed particle emission </span>

<span class="sd">    Inherits all the attributes of :py:class:`Decay_radiation`</span>

<span class="sd">    :ivar Quantity energy_x: energy of the intermediate state</span>
<span class="sd">    :ivar string particle: delayed particle</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_csv_title</span> <span class="o">=</span> <span class="n">Decay_radiation</span><span class="o">.</span><span class="n">_csv_title_short</span> <span class="o">+</span>  <span class="s2">&quot;,particle,energy_x,energy_x_unc,energy_x_limit&quot;</span>


    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">energy_x</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;energy_x&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">particle</span> <span class="o">=</span> <span class="kc">None</span>


    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">energy_x</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">particle</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_a</span></div>


<div class="viewcode-block" id="Dr_gamma"><a class="viewcode-back" href="../code.html#ndlab.Dr_gamma">[docs]</a><span class="k">class</span> <span class="nc">Dr_gamma</span><span class="p">(</span><span class="n">Gamma</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Gamma decay radiation</span>

<span class="sd">    Inherits all the attributes of :py:class:`Gamma`</span>

<span class="sd">    :ivar Nuclide parent: the  parent nuclide</span>
<span class="sd">    :ivar Level parent_level: the parent level </span>
<span class="sd">    :ivar L_decay decay: access to the level decay, with all the other radiations emitted </span>
<span class="sd">    :ivar Quantity intensity: for 100 decays of the parent</span>

<span class="sd">    :ivar string parent_nucid: parent nuclide indentifier, e.g. 135XE</span>
<span class="sd">    :ivar int parent_l_seqno: sequential number or the parent level, 0 being the g.s.</span>
<span class="sd">    :ivar int decay_code: code of the decay, see the DECAY_* constants in ndlaborm</span>


<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_csv_title</span> <span class="o">=</span> <span class="s1">&#39;parent_z,parent_n,parent_nucid,parent_l_seqno,decay_code,z,n,nucid,g_seqno,l_seqno,final_l_seqno,energy,energy_unc,energy_limit,,intensity,intensity_limit,intensity_unc,rel_photon_intens,rel_photon_intens_unc,rel_photon_intens_limit,multipolarity,mixing_ratio,mixing_ratio_unc,mixing_ratio_limit,tot_conv_coeff,tot_conv_coeff_unc,tot_conv_coeff_limit,bew,bew_unc,bew_limit,bew_order,bmw,bmw_unc,bmw_limit,bmw_order,questionable&#39;</span>
  
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
       
        <span class="bp">self</span><span class="o">.</span><span class="n">decay_code</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">intensity</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;intensity&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">parent_z</span> <span class="o">=</span>  <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent_n</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_level</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_decay</span> <span class="o">=</span> <span class="kc">None</span>


    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent_z</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;parent_z&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent_n</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;parent_n&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent_nucid</span> <span class="o">=</span>  <span class="n">data</span><span class="p">[</span><span class="s2">&quot;parent_nucid&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent_l_seqno</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;parent_l_seqno&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">decay_code</span> <span class="o">=</span>  <span class="n">_int_check</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;decay_code&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">intensity</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">parent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span>  <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;NUCLIDE&quot;</span><span class="p">,</span> <span class="s2">&quot;Nuclide&quot;</span><span class="p">,</span> <span class="s2">&quot; NUCLIDE.NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; &quot;</span><span class="p">)</span>  
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">parent_level</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent_level</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parent_level</span> <span class="o">=</span>  <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;LEVEL&quot;</span><span class="p">,</span> <span class="s2">&quot;Levels&quot;</span><span class="p">,</span> <span class="s2">&quot; LEVEL.NUC = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; and LEVEL.SEQNO = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent_l_seqno</span><span class="p">)</span>  <span class="o">+</span> <span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;levels&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent_level</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">decay</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_decay</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_decay</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;L_DECAY&quot;</span><span class="p">,</span><span class="s2">&quot;L_decays&quot;</span><span class="p">,</span> <span class="s2">&quot; L_DECAY.NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; and L_DECAY.LEVEL_SEQNO = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent_l_seqno</span><span class="p">)</span>  <span class="o">+</span> <span class="s2">&quot; and L_DECAY.CODE = &quot;</span> <span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">decay_code</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_decay</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

<span class="k">class</span> <span class="nc">Dr_photon_tot</span><span class="p">(</span><span class="n">Ndm_base</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Total photon radiation emitted from a parent, regardless of the decay branch and whether is X- or gamma-ray</span>

<span class="sd">    :ivar Nuclide parent: the  parent nuclide</span>
<span class="sd">    :ivar Level parent_level: the parent level </span>
<span class="sd">    :ivar Quantity intensity: for 100 decays of the parent</span>
<span class="sd">    :ivar Quantity energy: photon energy [keV]</span>

<span class="sd">    :ivar string parent_nucid: parent nuclide indentifier, e.g. 135XE</span>
<span class="sd">    :ivar string type: type of the radiation: X, G, AU, CE</span>
<span class="sd">    :ivar int parent_l_seqno: sequential number or the parent level, 0 being the g.s.</span>
<span class="sd">    :ivar int decay_code: code of the decay, see the DECAY_* constants in ndlaborm</span>
<span class="sd">    :ivar int count: number of decay branches in which this energy is present</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_csv_title</span> <span class="o">=</span> <span class="s2">&quot;parent_nucid,parent_l_seqno,energy,energy_unc,energy_limit,intensity,intensity_unc,intensity_limit,type,count&quot;</span>
   
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent_nucid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent_l_seqno</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">energy</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;energy&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">intensity</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="s2">&quot;intensity&quot;</span><span class="p">);</span>
       
        <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_level</span> <span class="o">=</span> <span class="kc">None</span>
       
    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent_nucid</span> <span class="o">=</span>  <span class="n">data</span><span class="p">[</span><span class="s2">&quot;parent_nucid&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent_l_seqno</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;parent_l_seqno&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">energy</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">intensity</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;cnt&quot;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pk</span> <span class="o">=</span>   <span class="bp">self</span><span class="o">.</span><span class="n">parent_nucid</span>  <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent_l_seqno</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">parent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span>  <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;NUCLIDE&quot;</span><span class="p">,</span> <span class="s2">&quot;Nuclide&quot;</span><span class="p">,</span> <span class="s2">&quot; NUCLIDE.NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; &quot;</span><span class="p">)</span>  
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

 
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">parent_level</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent_level</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parent_level</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;LEVEL&quot;</span><span class="p">,</span> <span class="s2">&quot;Level&quot;</span><span class="p">,</span>   <span class="s2">&quot; LEVEL.NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_nucid</span> <span class="o">+</span> <span class="s2">&quot;&#39; and LEVEL.SEQNO = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent_l_seqno</span><span class="p">)</span>  <span class="o">+</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent_level</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  

<span class="k">class</span> <span class="nc">Dr_annihil</span><span class="p">(</span><span class="n">Decay_radiation</span><span class="p">):</span>

    <span class="n">_csv_title</span> <span class="o">=</span> <span class="n">Decay_radiation</span><span class="o">.</span><span class="n">_csv_title_short</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Dr_atomic</span><span class="p">(</span><span class="n">Decay_radiation</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Radiation emitted by atomic processes: X-rays, Conversion Electrons, Auger Electrons </span>

<span class="sd">    Inherits all the attributes of :py:class:`Decay_radiation`</span>
<span class="sd">    </span>
<span class="sd">    :ivar String shell: the atomic shell involved</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>


    <span class="n">_csv_title</span> <span class="o">=</span> <span class="s2">&quot;parent_nucid,parent_l_seqno,decay_code,intensity,intensity_unc,intensity_limit,energy,energy_unc,energy_limit,shell&quot;</span>
   
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
       
        <span class="bp">self</span><span class="o">.</span><span class="n">shell</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">shell</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;type_c&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pk</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;r_seqno&quot;</span><span class="p">])</span>

   

<span class="k">class</span> <span class="nc">Dr_x</span><span class="p">(</span><span class="n">Dr_atomic</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; X-rays emitted </span>

<span class="sd">    Inherits all the attributes of :py:class:`Dr_atomic` restricted to X</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>


    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Dr_conv_el</span><span class="p">(</span><span class="n">Dr_atomic</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Conversion Electrons emitted </span>

<span class="sd">    Inherits all the attributes of :py:class:`Dr_atomic` restricted to CE</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>


    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Dr_auger</span><span class="p">(</span><span class="n">Dr_atomic</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Auger Electrons emitted </span>

<span class="sd">    Inherits all the attributes of :py:class:`Dr_atomic` restricted to AU</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">_populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>



<span class="k">def</span> <span class="nf">_generator</span><span class="p">(</span><span class="n">orm_table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">nl_class_name</span><span class="p">:</span> <span class="nb">str</span> <span class="p">,</span> <span class="nb">filter</span> <span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; fills an array of ndlab classes by querying the database. </span>
<span class="sd">    </span>
<span class="sd">    The &#39;populate&#39; function of the ndlab entity performs the job, it makes use of reflection.</span>
<span class="sd">    The constructed query is a &#39;select * from tablename&#39; + filter </span>

<span class="sd">    Args:</span>

<span class="sd">        orm_table (str):   the name of the :py:mod:`ndlaborm` class for the query, e.g. &#39;NUCLIDE&#39;</span>
<span class="sd">        nl_class_name (str): the name of the ndlab class that will be filled by the query result set, e.g. &#39;Nuclide&#39;. </span>
<span class="sd">                          The &#39;populate&#39; function on the class links the result set with the class properties </span>
<span class="sd">        filter (str) = &#39;&#39; : the filter to produce the where condition in the query </span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd"> </span>
<span class="sd">        Object[]: list of  nl_class_name instances</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># overwrite the filter</span>
    <span class="n">_filter</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">_filter</span> <span class="k">if</span> <span class="nb">filter</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span>  <span class="k">else</span> <span class="nb">filter</span>

    <span class="c1">#print(&quot;class &quot;,nl_class_name, &quot; filter &quot;,filter, &quot; _filter &quot;, _filter, dblink.query_check(orm_table+&quot;.*&quot;,filter), &quot;orm_table&quot; , orm_table)</span>
    
    <span class="k">if</span><span class="p">(</span><span class="ow">not</span> <span class="n">dblink</span><span class="o">.</span><span class="n">query_check</span><span class="p">(</span><span class="n">orm_table</span><span class="o">+</span><span class="s2">&quot;.*&quot;</span><span class="p">,</span><span class="nb">filter</span><span class="p">)):</span>
        <span class="k">return</span> <span class="n">ERROR_FILTER_NOT_VALID</span>
    
    <span class="n">tablename</span> <span class="o">=</span> <span class="n">orm_table</span> <span class="k">if</span> <span class="n">orm_table</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;ALL&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="n">orm_table</span> <span class="o">+</span> <span class="s2">&quot;.*&quot;</span>
    
    <span class="c1"># call to the database</span>
    <span class="n">jss</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_data</span><span class="p">(</span><span class="n">tablename</span> <span class="p">,</span> <span class="n">_filter</span> <span class="p">))</span>

    <span class="c1">#print(&quot; sql &quot;, dblink.lastsql)</span>
    <span class="c1">#print(&quot; json &quot;, jss)</span>
    <span class="c1">#print(&quot;&quot;)</span>
    <span class="c1"># the return array</span>
    <span class="n">objs</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># instanciate the factory</span>
    <span class="n">classfact</span> <span class="o">=</span>  <span class="nb">getattr</span><span class="p">(</span><span class="n">this</span><span class="p">,</span> <span class="n">nl_class_name</span><span class="p">)</span>

    <span class="c1"># instanciate and fill the entities</span>
    <span class="k">for</span> <span class="n">js</span> <span class="ow">in</span> <span class="n">jss</span><span class="p">:</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">classfact</span><span class="p">()</span>
        <span class="c1"># let the object remember its filter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">myfilter</span> <span class="o">=</span> <span class="n">_filter</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">_populate</span><span class="p">(</span><span class="n">js</span><span class="p">)</span>
        <span class="n">objs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">objs</span>

<div class="viewcode-block" id="check_filter"><a class="viewcode-back" href="../code.html#ndlab.check_filter">[docs]</a><span class="k">def</span> <span class="nf">check_filter</span><span class="p">(</span><span class="nb">filter</span><span class="p">,</span> <span class="n">function</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Whether a filter is okay when applied to a given function</span>

<span class="sd">    Filter should query only one table (besides embedded foreign keys)</span>

<span class="sd">    Args:</span>
<span class="sd">        filter (str): the filter</span>
<span class="sd">        function (Function) : the ndlab function accepting the filter</span>
<span class="sd">    Returns:</span>
<span class="sd">        Boolean : </span>
<span class="sd">     </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">table</span> <span class="o">=</span> <span class="n">function</span><span class="o">.</span><span class="vm">__name__</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;.*&quot;</span>
    <span class="k">return</span> <span class="n">dblink</span><span class="o">.</span><span class="n">query_check</span><span class="p">(</span><span class="n">table</span><span class="p">,</span><span class="nb">filter</span><span class="p">)</span></div>

<div class="viewcode-block" id="nuclide"><a class="viewcode-back" href="../code.html#ndlab.nuclide">[docs]</a><span class="k">def</span> <span class="nf">nuclide</span><span class="p">(</span><span class="n">nucid</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A :py:class:`ndlab.Nuclide` from its identifyer</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">        nucid (str): mass+element symbol, e.g.135XE</span>
<span class="sd">    Returns:</span>
<span class="sd">        Nuclide : the :ref:`NUCLIDE &lt;NUCLIDE&gt;` with this id</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">old_filter</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">_filter</span>
    <span class="n">this</span><span class="o">.</span><span class="n">_filter</span> <span class="o">=</span> <span class="s2">&quot;NUCLIDE.NUC_ID = &#39;&quot;</span> <span class="o">+</span> <span class="n">nucid</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>  <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span>
    <span class="n">nuc</span> <span class="o">=</span> <span class="n">nuclides</span><span class="p">()</span>
    <span class="n">this</span><span class="o">.</span><span class="n">_filter</span> <span class="o">=</span> <span class="n">old_filter</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">nuc</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">nuc</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="n">nuc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="nuclides"><a class="viewcode-back" href="../code.html#ndlab.nuclides">[docs]</a><span class="k">def</span> <span class="nf">nuclides</span><span class="p">(</span><span class="nb">filter</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A list of :py:class:`ndlab.Nuclide`  </span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">       filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`NUCLIDE &lt;NUCLIDE&gt;` entity  </span>
<span class="sd">    Returns:</span>
<span class="sd">        Nuclide : </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;NUCLIDE&quot;</span><span class="p">,</span><span class="s2">&quot;Nuclide&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span></div>
   
<div class="viewcode-block" id="levels"><a class="viewcode-back" href="../code.html#ndlab.levels">[docs]</a><span class="k">def</span> <span class="nf">levels</span><span class="p">(</span><span class="nb">filter</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A list of :py:class:`ndlab.Level`  </span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">       filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`LEVEL &lt;LEVEL&gt;` entity  </span>
<span class="sd">    Returns:</span>
<span class="sd">        Level : </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;LEVEL&quot;</span><span class="p">,</span><span class="s2">&quot;Level&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span></div>

<div class="viewcode-block" id="gammas"><a class="viewcode-back" href="../code.html#ndlab.gammas">[docs]</a><span class="k">def</span> <span class="nf">gammas</span><span class="p">(</span><span class="nb">filter</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A list of :py:class:`ndlab.Gamma`  </span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">       filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`GAMMA &lt;GAMMA&gt;` entity  </span>
<span class="sd">    Returns:</span>
<span class="sd">        Gamma : </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;GAMMA&quot;</span><span class="p">,</span><span class="s2">&quot;Gamma&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span></div>

<div class="viewcode-block" id="l_decays"><a class="viewcode-back" href="../code.html#ndlab.l_decays">[docs]</a><span class="k">def</span> <span class="nf">l_decays</span><span class="p">(</span><span class="nb">filter</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A list of :py:class:`ndlab.L_decays`  </span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">       filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`L_DECAY &lt;L_DECAY&gt;` entity  </span>
<span class="sd">    Returns:</span>
<span class="sd">        L_decay : </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;L_DECAY&quot;</span><span class="p">,</span><span class="s2">&quot;L_decay&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span></div>

<span class="k">def</span> <span class="nf">decay_codes</span><span class="p">(</span><span class="nb">filter</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
     <span class="k">return</span> <span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;DECAY_CODE&quot;</span><span class="p">,</span><span class="s2">&quot;Decay_code&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span>

<div class="viewcode-block" id="dr_alphas"><a class="viewcode-back" href="../code.html#ndlab.dr_alphas">[docs]</a><span class="k">def</span> <span class="nf">dr_alphas</span><span class="p">(</span><span class="nb">filter</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A list of :py:class:`ndlab.Dr_alpha`  </span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">       filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_ALPHA &lt;DR_ALPHA&gt;` entity  </span>
<span class="sd">    Returns:</span>
<span class="sd">        Dr_alpha : </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;DR_ALPHA&quot;</span><span class="p">,</span><span class="s2">&quot;Dr_alpha&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span></div>

<div class="viewcode-block" id="dr_gammas"><a class="viewcode-back" href="../code.html#ndlab.dr_gammas">[docs]</a><span class="k">def</span> <span class="nf">dr_gammas</span><span class="p">(</span><span class="nb">filter</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A list of :py:class:`ndlab.Dr_gamma`  </span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">       filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_GAMMA &lt;DR_GAMMA&gt;` entity  </span>
<span class="sd">    Returns:</span>
<span class="sd">        Dr_gamma : </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;DR_GAMMA&quot;</span><span class="p">,</span><span class="s2">&quot;Dr_gamma&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span></div>

<span class="k">def</span> <span class="nf">dr_annihil</span><span class="p">(</span><span class="nb">filter</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A list of :py:class:`ndlab.Dr_annihil`  </span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">       filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_GAMMA &lt;DR_GAMMA&gt;` entity  </span>
<span class="sd">    Returns:</span>
<span class="sd">        Dr_annihil : </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;DR_ANNIHIL&quot;</span><span class="p">,</span><span class="s2">&quot;Dr_annihil&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span> 

<div class="viewcode-block" id="dr_beta_ms"><a class="viewcode-back" href="../code.html#ndlab.dr_beta_ms">[docs]</a><span class="k">def</span> <span class="nf">dr_beta_ms</span><span class="p">(</span><span class="nb">filter</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A list of :py:class:`ndlab.Dr_betam`  </span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">       filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_GAMMA &lt;DR_GAMMA&gt;` entity  </span>
<span class="sd">    Returns:</span>
<span class="sd">        Dr_betam : </span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="k">return</span> <span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;DR_BETAM&quot;</span><span class="p">,</span><span class="s2">&quot;Dr_betam&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span></div>

<div class="viewcode-block" id="dr_anti_nus"><a class="viewcode-back" href="../code.html#ndlab.dr_anti_nus">[docs]</a><span class="k">def</span> <span class="nf">dr_anti_nus</span><span class="p">(</span><span class="nb">filter</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
     <span class="sd">&quot;&quot;&quot;A list of :py:class:`ndlab.Dr_anti_nu`  </span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">       filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_GAMMA &lt;DR_GAMMA&gt;` entity  </span>
<span class="sd">    Returns:</span>
<span class="sd">        Dr_anti_nu : </span>
<span class="sd">    &quot;&quot;&quot;</span>     
     
     <span class="k">return</span> <span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;DR_ANTI_NU&quot;</span><span class="p">,</span><span class="s2">&quot;Dr_anti_nu&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span></div>

<div class="viewcode-block" id="dr_nus"><a class="viewcode-back" href="../code.html#ndlab.dr_nus">[docs]</a><span class="k">def</span> <span class="nf">dr_nus</span><span class="p">(</span><span class="nb">filter</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A list of :py:class:`ndlab.Dr_nu`  </span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">       filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_GAMMA &lt;DR_GAMMA&gt;` entity  </span>
<span class="sd">    Returns:</span>
<span class="sd">        Dr_nu : </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;DR_NU&quot;</span><span class="p">,</span><span class="s2">&quot;Dr_nu&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span></div>

<div class="viewcode-block" id="dr_beta_ps"><a class="viewcode-back" href="../code.html#ndlab.dr_beta_ps">[docs]</a><span class="k">def</span> <span class="nf">dr_beta_ps</span><span class="p">(</span><span class="nb">filter</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A list of :py:class:`ndlab.Dr_betap`  </span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">       filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_GAMMA &lt;DR_GAMMA&gt;` entity  </span>
<span class="sd">    Returns:</span>
<span class="sd">        Dr_betap : </span>
<span class="sd">    &quot;&quot;&quot;</span>
     
    <span class="k">return</span> <span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;DR_BETAP&quot;</span><span class="p">,</span><span class="s2">&quot;Dr_betap&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span></div>

<div class="viewcode-block" id="dr_xs"><a class="viewcode-back" href="../code.html#ndlab.dr_xs">[docs]</a><span class="k">def</span> <span class="nf">dr_xs</span><span class="p">(</span><span class="nb">filter</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A list of :py:class:`ndlab.Dr_x`  </span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">       filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_GAMMA &lt;DR_GAMMA&gt;` entity  </span>
<span class="sd">    Returns:</span>
<span class="sd">        Dr_x : </span>
<span class="sd">    &quot;&quot;&quot;</span>
     
    <span class="k">return</span> <span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;DR_X&quot;</span><span class="p">,</span><span class="s2">&quot;Dr_x&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span></div>

<span class="k">def</span> <span class="nf">dr_photon_tot</span><span class="p">(</span><span class="nb">filter</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A list of :py:class:`ndlab.Dr_photon_tot`  </span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">       filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_GAMMA &lt;DR_GAMMA&gt;` entity  </span>
<span class="sd">    Returns:</span>
<span class="sd">        Dr_photon_tot : </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;DR_PHOTON_TOTAL&quot;</span><span class="p">,</span><span class="s2">&quot;Dr_photon_tot&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span>     

<div class="viewcode-block" id="dr_convels"><a class="viewcode-back" href="../code.html#ndlab.dr_convels">[docs]</a><span class="k">def</span> <span class="nf">dr_convels</span><span class="p">(</span><span class="nb">filter</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A list of :py:class:`ndlab.Dr_conv_el`  </span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">       filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_GAMMA &lt;DR_GAMMA&gt;` entity  </span>
<span class="sd">    Returns:</span>
<span class="sd">        Dr_conv_el : </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;DR_CONV_EL&quot;</span><span class="p">,</span><span class="s2">&quot;Dr_conv_el&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span></div>

<div class="viewcode-block" id="dr_augers"><a class="viewcode-back" href="../code.html#ndlab.dr_augers">[docs]</a><span class="k">def</span> <span class="nf">dr_augers</span><span class="p">(</span><span class="nb">filter</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A list of :py:class:`ndlab.Dr_Augher`  </span>

<span class="sd">    Shells included are K and L</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">       filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_GAMMA &lt;DR_GAMMA&gt;` entity  </span>
<span class="sd">    Returns:</span>
<span class="sd">        Dr_Auger : </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;DR_AUGER&quot;</span><span class="p">,</span><span class="s2">&quot;Dr_auger&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span></div>

<span class="k">def</span> <span class="nf">dr_delayeds</span><span class="p">(</span><span class="nb">filter</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A list of :py:class:`ndlab.Dr_delayed`  </span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">       filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_GAMMA &lt;DR_GAMMA&gt;` entity  </span>
<span class="sd">    Returns:</span>
<span class="sd">        Dr_delayed : </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;DR_DELAYED&quot;</span><span class="p">,</span><span class="s2">&quot;Dr_delayed&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span>

<div class="viewcode-block" id="cum_fys"><a class="viewcode-back" href="../code.html#ndlab.cum_fys">[docs]</a><span class="k">def</span> <span class="nf">cum_fys</span><span class="p">(</span><span class="nb">filter</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A list of :py:class:`ndlab.Cum_fy`  </span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">       filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_GAMMA &lt;DR_GAMMA&gt;` entity  </span>
<span class="sd">    Returns:</span>
<span class="sd">        Cum_fy : </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;CUM_FY&quot;</span><span class="p">,</span><span class="s2">&quot;Cum_fy&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span></div>

<div class="viewcode-block" id="ind_fys"><a class="viewcode-back" href="../code.html#ndlab.ind_fys">[docs]</a><span class="k">def</span> <span class="nf">ind_fys</span><span class="p">(</span><span class="nb">filter</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A list of :py:class:`ndlab.Ind_fy`  </span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">       filter (str): :ref:`filter &lt;filter-label&gt;`  passed to the function by the user. It may contain only fields of the :ref:`DR_GAMMA &lt;DR_GAMMA&gt;` entity  </span>
<span class="sd">    Returns:</span>
<span class="sd">        Ind_fy : </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">_generator</span><span class="p">(</span><span class="s2">&quot;IND_FY&quot;</span><span class="p">,</span><span class="s2">&quot;Ind_fy&quot;</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span></div>

<span class="k">def</span> <span class="nf">setfilter</span><span class="p">(</span><span class="n">where</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39; appendeds a filter to each query&#39;&#39;&#39;</span>

    <span class="n">this</span><span class="o">.</span><span class="n">_filter</span> <span class="o">=</span> <span class="n">where</span>   

<span class="k">def</span> <span class="nf">remove_doublers</span><span class="p">(</span><span class="n">doublers</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; removes doublers from a list</span>

<span class="sd">    When one wants to be sure that each item is present only once</span>

<span class="sd">    Args:</span>
<span class="sd">        doublers (list): list of same-class items</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: the list with only singlers  </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">doublers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span> <span class="k">return</span> <span class="n">doublers</span>

    <span class="n">singlers</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">pks</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">doublers</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">n</span><span class="o">.</span><span class="n">pk</span> <span class="ow">in</span> <span class="n">pks</span><span class="p">:</span> <span class="k">continue</span>
        <span class="n">singlers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="n">pks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">pk</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">singlers</span>


<span class="k">def</span> <span class="nf">getfilter</span><span class="p">():</span>
   <span class="k">return</span> <span class="n">this</span><span class="o">.</span><span class="n">_filter</span>

<div class="viewcode-block" id="json_data"><a class="viewcode-back" href="../code.html#ndlab.json_data">[docs]</a><span class="k">def</span> <span class="nf">json_data</span><span class="p">(</span><span class="n">fields</span> <span class="p">,</span> <span class="nb">filter</span> <span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;JSON data from a query</span>

<span class="sd">    Args:</span>
<span class="sd">        fields (str): list of comma-separated :py:mod:`ndlaborm` fields</span>
<span class="sd">        filter (str): filter condition built with :py:mod:`ndlaborm` fields</span>

<span class="sd">    Returns:</span>

<span class="sd">        str: JSON structure with the result set    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_data_deliverer</span> <span class="p">(</span><span class="s1">&#39;json&#39;</span><span class="p">,</span> <span class="n">fields</span> <span class="p">,</span> <span class="nb">filter</span> <span class="p">)</span></div>
<span class="c1"># string    </span>
<div class="viewcode-block" id="csv_data"><a class="viewcode-back" href="../code.html#ndlab.csv_data">[docs]</a><span class="k">def</span> <span class="nf">csv_data</span><span class="p">(</span><span class="n">fields</span> <span class="p">,</span> <span class="nb">filter</span> <span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;CSV data from a query</span>

<span class="sd">    Args:</span>
<span class="sd">        fields (str): list of comma-separated :py:mod:`ndlaborm` fields</span>
<span class="sd">        filter (str): filter condition built with :py:mod:`ndlaborm` fields</span>

<span class="sd">    Returns:</span>

<span class="sd">        str: CSV structure with the data    </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">_data_deliverer</span> <span class="p">(</span><span class="s1">&#39;csv&#39;</span><span class="p">,</span> <span class="n">fields</span> <span class="p">,</span> <span class="nb">filter</span> <span class="p">)</span></div>
    
<span class="k">def</span> <span class="nf">_data_deliverer</span><span class="p">(</span><span class="n">return_type</span><span class="p">,</span><span class="n">fields</span> <span class="p">,</span> <span class="nb">filter</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Delivers the data by querying the database</span>

<span class="sd">    It refers to dblink, the variable with an instance of ndlabdblink.DbLink class</span>
<span class="sd">    that handles the database</span>

<span class="sd">    It checks whether the db is local, or is remote and accessed through http</span>

<span class="sd">    Args:</span>
<span class="sd">        </span>
<span class="sd">        return_type (str): &#39;csv&#39; or &#39;json&#39; </span>
<span class="sd">        fields (str): list of comma-separated :py:mod:`ndlaborm` fields</span>
<span class="sd">        filter (str): filter condition built with :py:mod:`ndlaborm` fields</span>

<span class="sd">    Returns:</span>

<span class="sd">        str: either a csv or a json structure with the data </span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">this</span><span class="o">.</span><span class="n">last_fields</span> <span class="o">=</span> <span class="n">fields</span>
    <span class="n">this</span><span class="o">.</span><span class="n">last_filter</span> <span class="o">=</span> <span class="nb">filter</span>


    <span class="k">if</span><span class="p">(</span><span class="ow">not</span> <span class="n">dblink</span><span class="o">.</span><span class="n">query_check</span><span class="p">(</span><span class="n">fields</span><span class="p">,</span><span class="nb">filter</span><span class="p">)):</span>
        <span class="k">return</span> <span class="n">ERROR_FILTER_NOT_VALID</span>

    <span class="k">if</span><span class="p">(</span><span class="n">dblink</span><span class="o">.</span><span class="n">connected</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">dblink</span><span class="o">.</span><span class="n">data_deliverer</span> <span class="p">(</span><span class="n">return_type</span><span class="p">,</span> <span class="n">fields</span> <span class="p">,</span> <span class="nb">filter</span> <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_httprequest</span><span class="p">(</span><span class="n">return_type</span><span class="p">,</span><span class="n">fields</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

<span class="c1"># dblink</span>
<span class="c1">#def force_clean_query(force):</span>
<span class="c1">#    dblink.force_clean_query(force)</span>

<span class="c1"># dblink</span>
<span class="c1">#def lastquery_desc():</span>
<span class="c1">#    return dblink.query_desc(last_fields,last_filter)</span>

<div class="viewcode-block" id="csv_nl"><a class="viewcode-back" href="../code.html#ndlab.csv_nl">[docs]</a><span class="k">def</span> <span class="nf">csv_nl</span><span class="p">(</span><span class="n">nl_items</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;CSV from a list of :py:class:`ndlab.Ndm_base` classes</span>

<span class="sd">    for each instance, calls its csv() method and composes the overall result</span>

<span class="sd">    Args:</span>

<span class="sd">        nl_items (Object[]): list with ndlab class instances</span>

<span class="sd">    Returns:</span>

<span class="sd">        String: the CSV</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">nl_items</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">nl_items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">nl_items</span><span class="o">.</span><span class="n">_csv_title</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">nl_items</span><span class="o">.</span><span class="n">csv</span><span class="p">();</span>
      
    <span class="k">return</span> <span class="n">nl_items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">_csv_title</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">item</span><span class="o">.</span><span class="n">csv</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">nl_items</span><span class="p">]</span> <span class="p">)</span></div>

  
<div class="viewcode-block" id="pandas_csv_nl"><a class="viewcode-back" href="../code.html#ndlab.pandas_csv_nl">[docs]</a><span class="k">def</span> <span class="nf">pandas_csv_nl</span><span class="p">(</span> <span class="n">nl_items</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Text stream with CSV from a list of :py:class:`ndlab.Ndm_base` classes</span>

<span class="sd">    Ready to be plugged into pandas. For each instance, calls its csv() method and composes the overall result</span>

<span class="sd">    Args:</span>

<span class="sd">        nl_items (Object[]): list with ndlab class instances</span>

<span class="sd">    Returns:</span>

<span class="sd">        StringIO: text stream  with the CSV</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span>  <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">(</span><span class="n">csv_nl</span><span class="p">(</span><span class="n">nl_items</span><span class="p">))</span></div>

<div class="viewcode-block" id="pandas_df_nl"><a class="viewcode-back" href="../code.html#ndlab.pandas_df_nl">[docs]</a><span class="k">def</span> <span class="nf">pandas_df_nl</span><span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">pandas</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Returns a Dataframe from a list of ndlab classes</span>

<span class="sd">    Args:</span>
<span class="sd">       list (List): list of ndlab class instances</span>
<span class="sd">        pandas (Object): the pandas module imported in the calling environment. E.g. pass when :code:`pd` when using :code:`import pandas as pd`</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dataframe: the pandas dataframe</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span><span class="p">(</span><span class="nb">list</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
         <span class="k">return</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="p">(</span><span class="nb">list</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">!=</span> <span class="s1">&#39;str&#39;</span> <span class="ow">and</span> <span class="nb">list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="vm">__module__</span> <span class="o">!=</span> <span class="s1">&#39;ndlab&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="c1"># this is an error</span>
    <span class="k">if</span><span class="p">(</span><span class="nb">list</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;str&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">pandas</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">(</span><span class="s2">&quot;MESSAGE</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">+</span><span class="nb">list</span><span class="p">))</span>


    <span class="k">return</span> <span class="n">pandas</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">pandas_csv_nl</span><span class="p">(</span><span class="nb">list</span><span class="p">))</span></div>
    

    

<div class="viewcode-block" id="pandas_df"><a class="viewcode-back" href="../code.html#ndlab.pandas_df">[docs]</a><span class="k">def</span> <span class="nf">pandas_df</span><span class="p">(</span><span class="n">fields</span><span class="p">,</span> <span class="nb">filter</span><span class="p">,</span> <span class="n">pandas</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Creates a dataframe </span>
<span class="sd">    </span>
<span class="sd">    If the database is local, calls pandas&#39;  read_sql method using :py:class:`query_build` to build the query, and :py:class:`query_con`</span>
<span class="sd">    to get the db connection</span>

<span class="sd">    If the database is remote, calls the server API</span>

<span class="sd">    Args:</span>
<span class="sd">       fields (str): list of comma-separated :py:mod:`ndlaborm` fields</span>
<span class="sd">       filter (str): filter condition built with :py:mod:`ndlaborm` fields</span>
<span class="sd">       pandas (Object): the pandas module imported in the calling environment. E.g. pass when :code:`pd` when using :code:`import pandas as pd`</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dataframe: the pandas dataframe</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span><span class="p">(</span><span class="n">dblink</span><span class="o">.</span><span class="n">connected</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
             <span class="k">return</span> <span class="n">pandas</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">query_build</span><span class="p">(</span><span class="n">fields</span><span class="p">,</span> <span class="nb">filter</span><span class="p">),</span> <span class="n">query_con</span><span class="p">())</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># try to put blank spaces where needed</span>
                <span class="n">force</span> <span class="o">=</span> <span class="n">dblink</span><span class="o">.</span><span class="n">_sqlbuilder</span><span class="o">.</span><span class="n">force_clean</span> 
                <span class="n">dblink</span><span class="o">.</span><span class="n">force_clean_query</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">qry</span> <span class="o">=</span> <span class="n">query_build</span><span class="p">(</span><span class="n">fields</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span>
                <span class="n">dblink</span><span class="o">.</span><span class="n">force_clean_query</span><span class="p">(</span><span class="n">force</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">pandas</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">qry</span><span class="p">,</span> <span class="n">query_con</span><span class="p">())</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error , check the rules for the fields and filter parameters</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
                <span class="k">return</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">pandas</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">pandas_csv_web</span><span class="p">(</span><span class="n">fields</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span> <span class="p">)</span></div>


<span class="k">def</span> <span class="nf">pandas_csv_web</span><span class="p">(</span><span class="n">fields</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;CSV data from the web server</span>

<span class="sd">    Ready to be plugged into pandas, accessing the database through http.</span>
<span class="sd">    To be used when the databse is not local, otherwise use :code:`pd.readsql(` :py:meth:`ndlab.query_build`, :py:meth:`ndlab.query_con`)</span>

<span class="sd">    Args:</span>
<span class="sd">        fields (str): list of comma-separated :py:mod:`ndlaborm` fields</span>
<span class="sd">        filter (str): filter condition built with :py:mod:`ndlaborm` fields</span>

<span class="sd">    Returns:</span>

<span class="sd">        http.client.HTTPResponse : the response to be read    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_httprequest</span><span class="p">(</span><span class="s1">&#39;csv&#39;</span><span class="p">,</span><span class="n">fields</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span> 

<div class="viewcode-block" id="query_con"><a class="viewcode-back" href="../code.html#ndlab.query_con">[docs]</a><span class="k">def</span> <span class="nf">query_con</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;The connection to the database</span>

<span class="sd">    Returns:</span>

<span class="sd">      Connection: The connection to the database</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">dblink</span><span class="o">.</span><span class="n">_con_lite</span></div>

<div class="viewcode-block" id="query_build"><a class="viewcode-back" href="../code.html#ndlab.query_build">[docs]</a><span class="k">def</span> <span class="nf">query_build</span><span class="p">(</span><span class="n">fields</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The SQL query associated with fields and filter</span>

<span class="sd">    Args:</span>
<span class="sd">        fields (str): list of comma-separated :py:mod:`ndlaborm` fields</span>
<span class="sd">        filter (str): filter condition built with :py:mod:`ndlaborm` fields</span>

<span class="sd">    Returns:</span>
<span class="sd">        String : the SQL    </span>

<span class="sd">      </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">dblink</span><span class="o">.</span><span class="n">query_build</span><span class="p">(</span><span class="n">fields</span><span class="p">,</span> <span class="nb">filter</span><span class="p">)</span></div>

<span class="k">def</span> <span class="nf">_httprequest</span><span class="p">(</span><span class="n">return_type</span><span class="p">,</span> <span class="n">fields</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Queries the database through http</span>


<span class="sd">    Args:</span>
<span class="sd">        return_type (str): &#39;csv&#39; or &#39;json&#39; </span>
<span class="sd">        fields (str): list of comma-separated :py:mod:`ndlaborm` fields</span>
<span class="sd">        filter (str): filter condition built with :py:mod:`ndlaborm` fields</span>

<span class="sd">    Returns:</span>

<span class="sd">        http.client.HTTPResponse : the response to be read    </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="kn">import</span> <span class="nn">urllib.request</span>
    <span class="kn">import</span> <span class="nn">urllib.parse</span>

    <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;http://localhost:8123/cgi-bin/ndlab_server.py?&quot;</span> 
    <span class="c1">#url =  &quot;http://int-nds.iaea.org/cgi-bin/mvtest/ndlab_server.py?&quot;</span>
   
    <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;return_type=&quot;</span> <span class="o">+</span> <span class="n">return_type</span> <span class="o">+</span> <span class="s2">&quot;&amp;fields=&quot;</span> <span class="o">+</span>  <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">quote</span><span class="p">(</span><span class="n">fields</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&amp;where=&quot;</span> <span class="o">+</span>  <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">quote</span><span class="p">(</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nb">filter</span><span class="p">)</span>
   
    <span class="c1">#print( url+query)</span>
    <span class="n">req</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="n">url</span> <span class="o">+</span>  <span class="n">query</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">add_header</span><span class="p">(</span><span class="s1">&#39;User-Agent&#39;</span><span class="p">,</span> 
        <span class="s1">&#39;Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:77.0) Gecko/20100101 Firefox/77.0&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>



<span class="k">def</span> <span class="nf">print_shell</span><span class="p">():</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">dblink</span><span class="o">.</span><span class="n">query_exec</span><span class="p">(</span><span class="s2">&quot;select distinct type_c from decay_radiations order by 1&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">res</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;SHELL_&quot;</span> <span class="o">+</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; = &#39;&quot;</span> <span class="o">+</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">print_transition</span><span class="p">():</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">dblink</span><span class="o">.</span><span class="n">query_exec</span><span class="p">(</span><span class="s2">&quot;select distinct  b_trans_type from decay_radiations order by 1&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">res</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;TRANS_&quot;</span> <span class="o">+</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; = &#39;&quot;</span> <span class="o">+</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">)</span>
</pre></div>

           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, IAEA Nuclear Data Section.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>